var fn=Object.defineProperty;var hn=(t,e,s)=>e in t?fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var qt=(t,e,s)=>(hn(t,typeof e!="symbol"?e+"":e,s),s);import{b as pn,r as S,j as a,L as Jt,C as Ye,T as Ls,d as v,e as Ct,I as gn,G as fe,B as Y,f as Is,h as Q,i as it,A as We,S as qe,P as Us,k as K,l as mn,m as mt,n as Je,o as xn,N as ee,u as bn,q as je,s as yn,D as jt,t as Sn,v as wn,w as Tt,x as ht,y as vn,z as M,E as te,F as Ue,H as Cn,J as Ze,K as Gt,M as at,O as jn,Q as Tn,U as On,V as An,W as Nn,X as En,Y as _e,Z as Xt,_ as Pn,$ as Yt,a0 as Rn,a1 as de,a2 as Ln,a3 as In,a4 as Un,a5 as Dn,a6 as kn,a7 as _n,a8 as Mn,a9 as Bn,aa as zn,ab as $n,ac as Fn,ad as Vn,c as He,a as Hn,ae as Kn,af as Wn,R as qn,ag as Jn}from"./ui-8ff4ad30.js";import{_ as oe,u as zt,a as $t,T as Ot,b as Gn}from"./ton_tg-e3c82f5c.js";import{r as Xn,d as N,c as Yn}from"./ton_core-7b117370.js";function Qn(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var At={},Qt=pn;At.createRoot=Qt.createRoot,At.hydrateRoot=Qt.hydrateRoot;const Zn="_inner_hgqr3_1",er="_content_hgqr3_12",tr="_title_hgqr3_22",sr="_control_hgqr3_36",nr="_image_hgqr3_42",rr="_highlight_hgqr3_51",Te={inner:Zn,content:er,title:tr,control:sr,image:nr,highlight:rr};function ir(){const[t,e]=S.useState(!1);return S.useEffect(()=>{oe.initDataUnsafe.user!==void 0&&e(!0)},[]),{webApp:oe,isWebApp:t}}function ar(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Oe(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Zt={};function Nt(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Oe(e[0])&&Zt[e[0]]||(Oe(e[0])&&(Zt[e[0]]=new Date),ar(...e))}const Ds=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},es=(t,e,s)=>{t.loadNamespaces(e,Ds(t,s))},ts=(t,e,s,n)=>{Oe(s)&&(s=[s]),s.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,Ds(t,n))},or=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],r=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=e.services.backendConnector.state[`${l}|${c}`];return d===-1||d===2};return s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!r||o(i,t)))},lr=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Nt("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:s.lng,precheck:(r,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}):or(t,e,s)},Oe=t=>typeof t=="string",cr=t=>typeof t=="object"&&t!==null,dr=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ur={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},fr=t=>ur[t],hr=t=>t.replace(dr,fr);let Et={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hr};const pr=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Et={...Et,...t}},gr=()=>Et;let ks;const mr=t=>{ks=t},xr=()=>ks,br={type:"3rdParty",init(t){pr(t.options.react),mr(t)}},yr=S.createContext();class Sr{constructor(){qt(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}}const wr=(t,e)=>{const s=S.useRef();return S.useEffect(()=>{s.current=e?s.current:t},[t,e]),s.current},_s=(t,e,s,n)=>t.getFixedT(e,s,n),vr=(t,e,s,n)=>S.useCallback(_s(t,e,s,n),[t,e,s,n]),we=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:s}=e,{i18n:n,defaultNS:r}=S.useContext(yr)||{},i=s||n||xr();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Sr),!i){Nt("You will need to pass in an i18next instance by using initReactI18next");const C=(U,O)=>Oe(O)?O:cr(O)&&Oe(O.defaultValue)?O.defaultValue:Array.isArray(U)?U[U.length-1]:U,I=[C,{},!1];return I.t=C,I.i18n={},I.ready=!1,I}i.options.react&&i.options.react.wait!==void 0&&Nt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...gr(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let d=t||r||i.options&&i.options.defaultNS;d=Oe(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(d);const f=(i.isInitialized||i.initializedStoreOnce)&&d.every(C=>lr(C,i,o)),p=vr(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),u=()=>p,m=()=>_s(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),[y,x]=S.useState(u);let b=d.join();e.lng&&(b=`${e.lng}${b}`);const P=wr(b),R=S.useRef(!0);S.useEffect(()=>{const{bindI18n:C,bindI18nStore:I}=o;R.current=!0,!f&&!l&&(e.lng?ts(i,e.lng,d,()=>{R.current&&x(m)}):es(i,d,()=>{R.current&&x(m)})),f&&P&&P!==b&&R.current&&x(m);const U=()=>{R.current&&x(m)};return C&&i&&i.on(C,U),I&&i&&i.store.on(I,U),()=>{R.current=!1,C&&i&&C.split(" ").forEach(O=>i.off(O,U)),I&&i&&I.split(" ").forEach(O=>i.store.off(O,U))}},[i,b]),S.useEffect(()=>{R.current&&f&&x(u)},[i,c,f]);const z=[y,i,f];if(z.t=y,z.i18n=i,z.ready=f,f||!f&&!l)return z;throw new Promise(C=>{e.lng?ts(i,e.lng,d,()=>C()):es(i,d,()=>C())})};function xt({data:t}){const[e]=zt(),{isWebApp:s}=ir(),{t:n}=we(),r=[];for(let i=0;i<t.itemsCount;i++)r.push(a.jsxs(Jt.Item,{children:[a.jsx("b",{children:n(`custom:heroPage.items.${i}.main`)})," – ",n(`custom:heroPage.items.${i}.desc`)]},i));return a.jsx(Ye,{size:"md",children:a.jsxs("div",{className:Te.inner,children:[a.jsxs("div",{className:Te.content,children:[a.jsxs(Ls,{className:Te.title,children:[n("custom:heroPage.title.first")," ",a.jsx("span",{className:Te.highlight,children:n("custom:heroPage.title.second")})," ",n("custom:heroPage.title.third")]}),a.jsx(v,{c:"dimmed",mt:"md",children:n("heroPage.description",{ns:"custom"})}),a.jsx(Jt,{mt:30,spacing:"sm",size:"sm",icon:a.jsx(Ct,{size:20,radius:"xl",children:a.jsx(gn,{size:12,stroke:1.5})}),children:r}),!s&&a.jsx(fe,{className:Te.controls,children:a.jsx(Y,{mt:30,radius:"xl",size:"md",className:Te.control,onClick:()=>e.openModal(),children:n("Connect Wallet")})})]}),a.jsx(Is,{src:t.image,className:Te.image})]})})}const Cr="_card_1ag5c_1",jr="_imageSection_1ag5c_6",Tr="_label_1ag5c_14",Or="_section_1ag5c_23",Ar="_buttonSection_1ag5c_28",Nr="_inputWrapper_1ag5c_34",Er="_loader_1ag5c_39",Ft={card:Cr,imageSection:jr,label:Tr,section:Or,buttonSection:Ar,inputWrapper:Nr,loader:Er};function Ms({data:t}){const{t:e}=we(),s=[];for(let n=0;n<t.length;n++){const r=t[n];s.push(a.jsxs(Q,{withBorder:!0,children:[a.jsxs(Q.Section,{p:"xs",children:[a.jsx(it,{children:a.jsx(We,{variant:"filled",radius:"xl",src:r.logo,size:"xl"})}),a.jsx(it,{children:a.jsx(v,{fw:500,ml:"2px",truncate:"end",children:r.name})})]}),a.jsxs(v,{size:"xs",children:[" ",e("Loan"),": ",r.size," ",r.usdt?"USDT":"TON"]}),a.jsxs(v,{size:"xs",children:[" ",e("Per day"),": ",r.interest," %"]}),a.jsxs(v,{size:"xs",children:[" ",e("Term"),": ",r.duration," ",e("days")]})]},n))}return a.jsxs(Ye,{size:"md",p:"xs",m:"xs",children:[a.jsx(it,{children:a.jsx(Ls,{order:3,children:e("Available collections")})}),a.jsx(qe,{cols:{base:2,md:3,lg:4},spacing:"xs",mt:"md",children:s})]})}var Pr=Xn();const Ee=86400,Rr=1e4,Ae=1e9,ue=1e6,$e=.1,Fe=.4,Pt=.05,Lr=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2","0:46fa0e9a864014196a5e7d66f1f83ffdb10f2859bbf2ea9baeabbf14d9ce0d50","0:fd8a466aeb13e02a3ce67411b41b44bcd11bd42636f0807acf6570ca73fc2c13","0:ab180f6c942a24b200fe3724438ed1f248a3744ecf24ea176e78991491965d0f","0:13b9419dbeb8cbbd3584e69a5514e542a94d9d9422d49ca4ecbb49f52589bd95","0:388b9f22b92f4351846d519f7bb19a399a791b898501a565d039eddd11409c3f","0:fa987f5bc1b9fa4b733fb424563afa80216f0cdf8911c1b234d678862d13de0c","0:02710a51d9f99d784356744d98190587571493c80f19ab8fe4eeb93f21ac4245","0:c9b0df4e24184a199a16656b64129ce409f22ed7a67d5334d66d88de2e9b8775","0:30cee6dea09c27aa6981b933e99d44aead1cd63c1f0447371fcf1e7967662313","0:70dad3b951a27873f617b7723ccb9283d24dfbb2d699c5e755d8ee479abca22b","0:d3ae8fa88096d2ee8f8e043e9bb76372b0fb7b4a71a6e737ee457181d6713fad","0:9e7eb8e1083dbfec7448af6966c2df596aa786fed76c781bc00c2ebaf37de405","0:ee9b2ddb9d96335786d258c492664997ab1e745ee1f977d4655ffc848b614d96","0:d0e838d169b4d8480c5fdb1ad9b27b17b6a7089b56e3f5d179c7f87c94d8d63e","0:7a02d04f3ae4ed42697ca1203b5fc66a27942670e618aa8cfddac4185c6510af","0:b200c91be9b37236528f1f4b496ee6e4d55563012ab2abdb19c2427c01bc4c93","0:5a38bf261f9632c245e3929b3ae57d4e2cf347ee99ece1871f2e6695a456a834","0:2d154f46ac67e2c78506f433a2bcde7c431be004951a019fe97590590a66e12a","0:1a4c847ba09ca8c038ae9982d5374a1eeb590613723a10f127ed68073c6b9601","0:3c0c25b2096cb2c2038a60e45ead1a1255ebd6ad443f16329080d8a1c58d76db","0:78c77b13d4355d383cdacb71fee1524874ea284b9fa44e0c8a7183195a880f3a"],Ir=function(t,e,s){if(t.length<=e)return t;s=s||"...";var n=s.length,r=e-n,i=Math.ceil(r/2),o=Math.floor(r/2);return t.substring(0,i)+s+t.substring(t.length-o)},Ur=function(t){return t?Ir(t,18,"..."):""},Bs=async function(t,e){const s=t.nft,n=t.props.usdt===!0?e*ue:N.toNano(e);if(t.props.custom===!0)return N.beginCell().storeCoins(n).endCell();const r=Lr.indexOf(s.collectionAddress);if(r>-1){let i;r<2?i=s.name.slice(1).replace(/ /g,""):i=s.name.replace(/#/g,"-").replace(/[ ’]/g,"").toLowerCase(),console.log("[getForwardPayload] teleitem name: ",i);const l=(await Pr.sha256(i)).toString("hex"),c=BigInt(`0x${l}`),d=N.beginCell().storeUint(c,256).endCell();return N.beginCell().storeCoins(n).storeRef(d).endCell()}else return N.beginCell().storeUint(BigInt(s.tokenId),64).storeCoins(n).endCell()},Dr=async function(t){const e=[],s=[],n=[];for(let r=0;r<t.length;r++){const i=t[r];e.push(i.nft.address),s.push(i.props.verifier),n.push(await Bs(i,i.props.size))}return{nftAddresses:e,vItemAddresses:s,forwardPayloads:n}},J={ERROR:0,ACTIVE:1,CREDIT_CLOSED:2,WAIT_START_BID:3,AUCTION_STARTED:4,AUCTION_FINISHED:5},ye={GET_CREDIT:0,MAKE_BET:1},L=t=>typeof t=="string",Me=()=>{let t,e;const s=new Promise((n,r)=>{t=n,e=r});return s.resolve=t,s.reject=e,s},ss=t=>t==null?"":""+t,kr=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},_r=/###/g,ns=t=>t&&t.indexOf("###")>-1?t.replace(_r,"."):t,rs=t=>!t||L(t),Ke=(t,e,s)=>{const n=L(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(rs(t))return{};const i=ns(n[r]);!t[i]&&s&&(t[i]=new s),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return rs(t)?{}:{obj:t,k:ns(n[r])}},is=(t,e,s)=>{const{obj:n,k:r}=Ke(t,e,Object);if(n!==void 0||e.length===1){n[r]=s;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=Ke(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Ke(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},Mr=(t,e,s,n)=>{const{obj:r,k:i}=Ke(t,e,Object);r[i]=r[i]||[],r[i].push(s)},lt=(t,e)=>{const{obj:s,k:n}=Ke(t,e);if(s)return s[n]},Br=(t,e,s)=>{const n=lt(t,s);return n!==void 0?n:lt(e,s)},zs=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?L(t[n])||t[n]instanceof String||L(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):zs(t[n],e[n],s):t[n]=e[n]);return t},Pe=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $r=t=>L(t)?t.replace(/[&<>"'\/]/g,e=>zr[e]):t;class Fr{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Vr=[" ",",","?","!",";"],Hr=new Fr(20),Kr=(t,e,s)=>{e=e||"",s=s||"";const n=Vr.filter(o=>e.indexOf(o)<0&&s.indexOf(o)<0);if(n.length===0)return!0;const r=Hr.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!r.test(t);if(!i){const o=t.indexOf(s);o>0&&!r.test(t.substring(0,o))&&(i=!0)}return i},Rt=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let r=t;for(let i=0;i<n.length;){if(!r||typeof r!="object")return;let o,l="";for(let c=i;c<n.length;++c)if(c!==i&&(l+=s),l+=n[c],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;i+=c-i+1;break}r=o}return r},ct=t=>t&&t.replace("_","-"),Wr={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class dt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Wr,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,r){return r&&!this.debug?null:(L(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new dt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new dt(this.logger,e)}}var me=new dt;class pt{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(s)||0;this.observers[n].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[e,...n])})}}class as extends pt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],n&&(Array.isArray(n)?l.push(...n):L(n)&&i?l.push(...n.split(i)):l.push(n)));const c=lt(this.data,l);return!c&&!s&&!n&&e.indexOf(".")>-1&&(e=l[0],s=l[1],n=l.slice(2).join(".")),c||!o||!L(n)?c:Rt(this.data&&this.data[e]&&this.data[e][s],n,i)}addResource(e,s,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,s];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),r=s,s=l[1]),this.addNamespaces(s),is(this.data,l,r),i.silent||this.emit("added",e,s,n,r)}addResources(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(L(n[i])||Array.isArray(n[i]))&&this.addResource(e,s,i,n[i],{silent:!0});r.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),r=n,n=s,s=l[1]),this.addNamespaces(s);let c=lt(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?zs(c,n,i):c={...c,...n},is(this.data,l,c),o.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(r=>s[r]&&Object.keys(s[r]).length>0)}toJSON(){return this.data}}var $s={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,r){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,s,n,r))}),e}};const os={};class ut extends pt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),kr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=me.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Kr(e,n,r);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:L(i)?[i]:i};const d=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(r)}return{key:e,namespaces:L(i)?[i]:i}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1],d=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(f){const C=s.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${C}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:o}const p=this.resolve(e,s);let u=p&&p.res;const m=p&&p.usedKey||o,y=p&&p.exactUsedKey||o,x=Object.prototype.toString.apply(u),b=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,z=!L(u)&&typeof u!="boolean"&&typeof u!="number";if(R&&u&&z&&b.indexOf(x)<0&&!(L(P)&&Array.isArray(u))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,u,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(p.res=C,p.usedParams=this.getUsedParamsDetails(s),p):C}if(i){const C=Array.isArray(u),I=C?[]:{},U=C?y:m;for(const O in u)if(Object.prototype.hasOwnProperty.call(u,O)){const X=`${U}${i}${O}`;I[O]=this.translate(X,{...s,joinArrays:!1,ns:l}),I[O]===X&&(I[O]=u[O])}u=I}}else if(R&&L(P)&&Array.isArray(u))u=u.join(P),u&&(u=this.extendTranslation(u,e,s,n));else{let C=!1,I=!1;const U=s.count!==void 0&&!L(s.count),O=ut.hasDefaultValue(s),X=U?this.pluralResolver.getSuffix(d,s.count,s):"",F=s.ordinal&&U?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",B=U&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),k=B&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${X}`]||s[`defaultValue${F}`]||s.defaultValue;!this.isValidLookup(u)&&O&&(C=!0,u=k),this.isValidLookup(u)||(I=!0,u=o);const V=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:u,D=O&&k!==u&&this.options.updateMissing;if(I||C||D){if(this.logger.log(D?"updateKey":"missingKey",d,c,o,D?k:u),i){const j=this.resolve(o,{...s,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let h=[];const g=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&g&&g[0])for(let j=0;j<g.length;j++)h.push(g[j]);else this.options.saveMissingTo==="all"?h=this.languageUtils.toResolveHierarchy(s.lng||this.language):h.push(s.lng||this.language);const w=(j,E,T)=>{const W=O&&T!==u?T:V;this.options.missingKeyHandler?this.options.missingKeyHandler(j,c,E,W,D,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(j,c,E,W,D,s),this.emit("missingKey",j,c,E,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?h.forEach(j=>{const E=this.pluralResolver.getSuffixes(j,s);B&&s[`defaultValue${this.options.pluralSeparator}zero`]&&E.indexOf(`${this.options.pluralSeparator}zero`)<0&&E.push(`${this.options.pluralSeparator}zero`),E.forEach(T=>{w([j],o+T,s[`defaultValue${T}`]||k)})}):w(h,o,k))}u=this.extendTranslation(u,e,s,p,n),I&&u===o&&this.options.appendNamespaceToMissingKey&&(u=`${c}:${o}`),(I||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,C?u:void 0):u=this.options.parseMissingKeyHandler(u))}return r?(p.res=u,p.usedParams=this.getUsedParamsDetails(s),p):u}extendTranslation(e,s,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=L(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const u=e.match(this.interpolator.nestingRegexp);f=u&&u.length}let p=n.replace&&!L(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||r.usedLng,n),d){const u=e.match(this.interpolator.nestingRegexp),m=u&&u.length;f<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,m=new Array(u),y=0;y<u;y++)m[y]=arguments[y];return i&&i[0]===m[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):o.translate(...m,s)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=L(l)?[l]:l;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=$s.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,i,o,l;return L(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,s),f=d.key;r=f;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const u=s.count!==void 0&&!L(s.count),m=u&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),y=s.context!==void 0&&(L(s.context)||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);p.forEach(b=>{this.isValidLookup(n)||(l=b,!os[`${x[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(os[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(P=>{if(this.isValidLookup(n))return;o=P;const R=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,f,P,b,s);else{let C;u&&(C=this.pluralResolver.getSuffix(P,s.count,s));const I=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(R.push(f+C),s.ordinal&&C.indexOf(U)===0&&R.push(f+C.replace(U,this.options.pluralSeparator)),m&&R.push(f+I)),y){const O=`${f}${this.options.contextSeparator}${s.context}`;R.push(O),u&&(R.push(O+C),s.ordinal&&C.indexOf(U)===0&&R.push(O+C.replace(U,this.options.pluralSeparator)),m&&R.push(O+I))}}let z;for(;z=R.pop();)this.isValidLookup(n)||(i=z,n=this.getResource(P,b,z,s))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,r):this.resourceStore.getResource(e,s,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!L(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const i of s)delete r[i]}return r}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const bt=t=>t.charAt(0).toUpperCase()+t.slice(1);class ls{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=me.create("languageUtils")}getScriptPartFromCode(e){if(e=ct(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=ct(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(L(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let r=Intl.getCanonicalLocales(e)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=bt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=bt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=bt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return s=r;s=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),L(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),r=[],i=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return L(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):L(e)&&i(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&i(this.formatLanguageCode(o))}),r}}let qr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Jr={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Gr=["v1","v2","v3"],Xr=["v4"],cs={zero:0,one:1,two:2,few:3,many:4,other:5},Yr=()=>{const t={};return qr.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:Jr[e.fc]}})}),t};class Qr{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=me.create("pluralResolver"),(!this.options.compatibilityJSON||Xr.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Yr(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=ct(e==="dev"?"en":e),r=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,s)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${s}${r}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,i)=>cs[r]-cs[i]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:this.getSuffixRetroCompatible(r,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Gr.includes(this.options.compatibilityJSON)}}const ds=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Br(t,e,s);return!i&&r&&L(s)&&(i=Rt(t,s,n),i===void 0&&(i=Rt(e,s,n))),i},yt=t=>t.replace(/\$/g,"$$$$");class Zr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=me.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:P,alwaysFormat:R}=e.interpolation;this.escape=s!==void 0?s:$r,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?Pe(i):o||"{{",this.suffix=l?Pe(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=u?Pe(u):m||Pe("$t("),this.nestingSuffix=y?Pe(y):x||Pe(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=P||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,r){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const P=ds(s,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,n,{...r,...s,interpolationkey:m}):P}const y=m.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(ds(s,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...r,...s,interpolationkey:x})};this.resetRegExp();const f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>yt(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?yt(this.escape(m)):yt(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const y=i[1].trim();if(o=d(y),o===void 0)if(typeof f=="function"){const b=f(e,i,r);o=L(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))o="";else if(p){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!L(o)&&!this.useRawValueToEscape&&(o=ss(o));const x=m.safeValue(o);if(e=e.replace(i[0],x),p?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,o;const l=(c,d)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const p=c.split(new RegExp(`${f}[ ]*{`));let u=`{${p[1]}`;c=p[0],u=this.interpolate(u,o);const m=u.match(/'/g),y=u.match(/"/g);(m&&m.length%2===0&&!y||y.length%2!==0)&&(u=u.replace(/'/g,'"'));try{o=JSON.parse(u),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${f}${u}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!L(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const f=r[1].split(this.formatSeparator).map(p=>p.trim());r[1]=f.shift(),c=f,d=!0}if(i=s(l.call(this,r[1].trim(),o),o),i&&r[0]===e&&!L(i))return i;L(i)||(i=ss(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),d&&(i=c.reduce((f,p)=>this.format(f,p,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const ei=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();s[f]||(s[f]=d),d==="false"&&(s[f]=!1),d==="true"&&(s[f]=!0),isNaN(d)||(s[f]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},Re=t=>{const e={};return(s,n,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const o=n+JSON.stringify(i);let l=e[o];return l||(l=t(ct(n),r),e[o]=l),l(s)}};class ti{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=me.create("formatter"),this.options=e,this.formats={number:Re((s,n)=>{const r=new Intl.NumberFormat(s,{...n});return i=>r.format(i)}),currency:Re((s,n)=>{const r=new Intl.NumberFormat(s,{...n,style:"currency"});return i=>r.format(i)}),datetime:Re((s,n)=>{const r=new Intl.DateTimeFormat(s,{...n});return i=>r.format(i)}),relativetime:Re((s,n)=>{const r=new Intl.RelativeTimeFormat(s,{...n});return i=>r.format(i,n.range||"day")}),list:Re((s,n)=>{const r=new Intl.ListFormat(s,{...n});return i=>r.format(i)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Re(s)}format(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:f}=ei(c);if(this.formats[d]){let p=l;try{const u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},m=u.locale||u.lng||r.locale||r.lng||n;p=this.formats[d](l,m,{...f,...r,...u})}catch(u){this.logger.warn(u)}return p}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const si=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ni extends pt{constructor(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=me.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,s,n,r){const i={},o={},l={},c={};return e.forEach(d=>{let f=!0;s.forEach(p=>{const u=`${d}|${p}`;!n.reload&&this.store.hasResourceBundle(d,p)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?o[u]===void 0&&(o[u]=!0):(this.state[u]=1,f=!1,o[u]===void 0&&(o[u]=!0),i[u]===void 0&&(i[u]=!0),c[p]===void 0&&(c[p]=!0)))}),f||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,n){const r=e.split("|"),i=r[0],o=r[1];s&&this.emit("failedLoading",i,o,s),!s&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Mr(c.loaded,[i],o),si(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const f=c.loaded[d];f.length&&f.forEach(p=>{l[d][p]===void 0&&(l[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:r,wait:i,callback:o});return}this.readingCalls++;const l=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&f&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,r+1,i*2,o)},i);return}o(d,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();L(e)&&(e=this.languageUtils.toResolveHierarchy(e)),L(s)&&(s=[s]);const i=this.queueLoad(e,s,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${i} for language ${r} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${r}`,l),this.loaded(e,o,l)})}saveMissing(e,s,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(e,s,n,r,c):f=d(e,s,n,r),f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}else d(e,s,n,r,l,c)}!e||!e[0]||this.store.addResource(e[0],s,n,r)}}}const us=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),L(t[1])&&(e.defaultValue=t[1]),L(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),fs=t=>(L(t.ns)&&(t.ns=[t.ns]),L(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),L(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),et=()=>{},ri=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ge extends pt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=fs(e),this.services={},this.logger=me,this.modules={external:[]},ri(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(L(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const r=us();this.options={...r,...this.options,...fs(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?me.init(i(this.modules.logger),this.options):me.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=ti);const p=new ls(this.options);this.store=new as(this.options.resources,this.options);const u=this.services;u.logger=me,u.resourceStore=this.store,u.languageUtils=p,u.pluralResolver=new Qr(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(u.formatter=i(f),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Zr(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new ni(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(m){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];e.emit(m,...x)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new ut(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];e.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=et),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=Me(),d=()=>{const f=(p,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(u),n(p,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et;const r=L(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,s,n){const r=Me();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=et),this.services.backendConnector.reload(e,s,i=>{r.resolve(),n(i)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&$s.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const r=Me();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),s&&s(c,function(){return n.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=L(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,f=>{o(f,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,s,n){var r=this;const i=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];c=r.options.overloadTranslationOptionHandler([o,l].concat(f))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=r.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(y=>`${c.keyPrefix}${u}${y}`):m=c.keyPrefix?`${c.keyPrefix}${u}${o}`:o,r.t(m,c)};return L(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(i,e)))}loadNamespaces(e,s){const n=Me();return this.options.ns?(L(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),s&&s(r)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=Me();L(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=r.concat(i),this.loadResources(o=>{n.resolve(),s&&s(o)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new ls(us());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Ge(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new Ge(r);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new as(this.store.data,r),i.services.resourceStore=i.store),i.translator=new ut(i.services,r),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];i.emit(l,...d)}),i.init(r,s),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Z=Ge.createInstance();Z.createInstance=Ge.createInstance;Z.createInstance;Z.dir;Z.init;Z.loadResources;Z.reloadResources;Z.use;Z.changeLanguage;Z.getFixedT;const $=Z.t;Z.exists;Z.setDefaultNamespace;Z.hasLoadedNamespace;Z.loadNamespaces;Z.loadLanguages;const hs=4;function ii({offer:t,selectedNft:e,setSelectedNft:s,setNft:n,setTransactionType:r,inputDrawerHandler:i}){const o=t.props.usdt===!0;return a.jsxs(Us,{withBorder:!0,children:[a.jsxs(K,{children:[a.jsxs(K.Col,{span:10,children:[a.jsx(v,{fz:"xs",c:"dimmed",ml:"2px",children:t.nft.collectionName}),a.jsx(v,{fw:500,ml:"2px",truncate:"end",children:t.nft.name})]}),a.jsx(K.Col,{span:2,children:a.jsx(mn,{m:"xs",color:"grape",radius:"md",size:"md",checked:e.includes(t),disabled:!e.includes(t)&&e.length>hs-1,onClick:()=>{if(e.includes(t))s(e.filter(l=>l!==t));else if(e.length<hs){const l=e.filter(c=>c.nft!==t.nft);s([...l,t])}},readOnly:!0})})]}),a.jsxs(fe,{preventGrowOverflow:!1,wrap:"nowrap",children:[a.jsx(Is,{radius:"md",src:t.nft.previewUrl,h:150,w:"auto",fit:"contain",fallbackSrc:"https://placehold.co/200x200?text=NFT"}),a.jsxs(K,{ml:-10,mr:-10,children:[a.jsxs(K.Col,{span:6,children:[a.jsxs(v,{size:"xs",children:[" ",$("Loan"),": "]})," ",a.jsxs(v,{size:"sm",fw:500,children:[t.props.size," ",o?"USDT":"TON"]}),a.jsxs(v,{size:"xs",children:[" ",$("Per day"),": "]})," ",a.jsxs(v,{size:"sm",fw:500,children:[t.props.interest," %"]})]}),a.jsxs(K.Col,{span:6,children:[a.jsxs(v,{size:"xs",children:[" ",$("Term"),": "]})," ",a.jsxs(v,{size:"sm",fw:500,children:[" ",t.props.duration," ",$("days")]}),a.jsxs(v,{size:"xs",children:[" ",$("Minimum"),": "]})," ",a.jsxs(v,{size:"xs",fw:500,children:[" ",t.props.minimal," ",o?"USDT":"TON"]})]}),a.jsx(K.Col,{span:12,children:a.jsxs(fe,{children:[a.jsxs(v,{size:"xs",children:[$("For the entire period"),": "]})," ",a.jsxs(v,{size:"xs",fw:500,children:[t.props.overPayment," ",o?"USDT":"TON"]}),a.jsxs(mt,{width:300,position:"top",withArrow:!0,shadow:"md",children:[a.jsx(mt.Target,{children:a.jsx(Je,{variant:"default",size:"xs",children:a.jsx(xn,{})})}),a.jsx(mt.Dropdown,{children:a.jsx(v,{size:"xs",children:$(o?"The cost of the loan is calculated per day.":"The cost of the loan is calculated per second.")})})]})]})})]})]}),e.length===0&&a.jsxs(Y,{variant:"filled",fullWidth:!0,mt:"xs",color:o?"teal":"blue",onClick:()=>{n(t),r(ye.GET_CREDIT),i.open()},children:[$("Get")," ",t.props.size," ",o?"USDT":"TON"]})]})}function ai({credit:t,tx:e,resetStates:s,isHolder:n,usdtWallet:r}){var o,l,c;const i=t.usdt===!0;return a.jsxs(Q,{withBorder:!0,children:[a.jsxs(Q.Section,{children:[a.jsx(v,{fz:"xs",c:"dimmed",ml:"2px",children:(o=t.pawn)==null?void 0:o.collectionName}),a.jsx(v,{fw:500,ml:"2px",children:(l=t.pawn)==null?void 0:l.name}),a.jsxs(fe,{preventGrowOverflow:!1,wrap:"nowrap",children:[a.jsx(We,{variant:"filled",radius:"sm",src:(c=t.pawn)==null?void 0:c.previewUrl,size:"xl"}),a.jsxs(K,{children:[a.jsxs(K.Col,{span:6,children:[a.jsxs(v,{size:"xs",children:[" ",$("Loan"),": ",t.size," ",i?"USDT":"TON"]}),a.jsxs(v,{size:"xs",children:[" ",$("Per day"),": ",t.interest/100," %"]})]}),a.jsx(K.Col,{span:6,children:a.jsxs(v,{size:"xs",children:[" ",$("Date"),": ",t.end.toLocaleDateString("ru-RU")," "]})}),a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[$("Debt"),": "," ",a.jsx(ee,{value:t.debt,decimalScale:3,suffix:i?" USDT":" TON"})]})})]})]})]}),a.jsx(Q.Section,{children:a.jsxs(fe,{gap:"xs",mt:"xs",grow:!0,justify:"space-between",children:[n&&!i&&a.jsx(Y,{variant:"outline",color:i?"teal":"blue",onClick:()=>e.renewalCredit(t.address,t.debt-t.size).then(d=>{console.log("tx.renewalCredit result: ",d),s()}),children:$("Extend")}),a.jsx(Y,{color:i?"teal":"blue",onClick:()=>{t.usdt?r&&e.redeemUsdtCredit(t.id,t.debt,r.address).then(d=>{console.log("tx.redeemCredit result: ",d),s()}):e.redeemCredit(t.address,t.debt).then(d=>{console.log("tx.redeemCredit result: ",d),s()})},children:$("Redeem")})]})})]},t.address)}function oi({nfts:t,credits:e,collectionNames:s,tx:n,isHolder:r,allowed:i,reloadNfts:o,resetStates:l,setNft:c,setTransactionType:d,inputDrawerHandler:f,usdtWallet:p}){const{t:u}=we(),[m,y]=S.useState(""),[x,b]=S.useState([]),[P,R]=S.useState(""),[z,C]=S.useState(null),[I,U]=S.useState([]),[O,X]=S.useState([]),[F,B]=S.useState("");S.useEffect(()=>{let g=0,w=0;O.forEach(E=>{E.props.usdt?w+=E.props.size:g+=E.props.size});let j=" ";g>0&&(j+=g+" TON"),g>0&&w>0&&(j+=" & "),w>0&&(j+=w+" USDT"),B(j)},[O]);const k=bn({onDropdownClose:()=>{k.resetSelectedOption(),k.focusTarget(),R("")},onDropdownOpen:()=>{k.focusSearchInput()}}),A=s.filter(g=>g.toLowerCase().includes(P.toLowerCase().trim())).map(g=>a.jsx(je.Option,{value:g,children:g},g));S.useEffect(()=>{t!==null&&X([])},[t]),S.useEffect(()=>{if(t!==null)if(z===null)U(t);else{const g=t.filter(w=>w.nft.collectionName?w.nft.collectionName===z:!1);U(g)}},[z,t]),S.useEffect(()=>{if(N.Address.isFriendly(m)){const g=I.filter(w=>{const j=N.Address.parse(w.nft.address).toString();return m===j});b(g)}else{const g=I.filter(w=>w.nft.name?w.nft.name.toLowerCase().includes(m.toLowerCase()):!1);b(g)}},[m,I]);const V=g=>{y(g.target.value)};S.useEffect(()=>{y(""),C(null),t!==null&&b(t)},[t]);const D=x.map(g=>a.jsx(ii,{offer:g,selectedNft:O,setSelectedNft:X,setNft:c,setTransactionType:d,inputDrawerHandler:f},g.nft.address+g.props.verifier)),h=e==null?void 0:e.map(g=>a.jsx(ai,{credit:g,tx:n,resetStates:l,isHolder:r,usdtWallet:p},g.address));return a.jsxs(Ye,{size:"xl",pl:"0",pr:"0",children:[O.length>0&&a.jsx(yn,{w:"100%",children:a.jsxs(Y,{fullWidth:!0,variant:"filled",size:"md",radius:"xs",color:"grape",onClick:()=>{Dr(O).then(g=>n.createCreditMass(g.nftAddresses,g.vItemAddresses,g.forwardPayloads))},children:[u("Get")," ",F]})}),e&&a.jsxs(a.Fragment,{children:[a.jsx(jt,{my:"xs",label:u("In pledge"),labelPosition:"center"}),a.jsx(qe,{cols:{base:1,md:2,lg:3},spacing:"md",children:h})]}),a.jsx(jt,{my:"xs",label:u("My NFTs"),labelPosition:"center"}),t?a.jsx(a.Fragment,{children:t.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(fe,{mb:"sm",children:[a.jsx(Sn,{radius:"xl",size:"md",style:{width:"100%",flex:1},placeholder:u("Search"),rightSectionWidth:42,value:m,onChange:V,rightSection:a.jsx(wn,{"aria-label":u("Clear"),onClick:()=>{y(""),t!==null&&b(t)},style:{display:m?void 0:"none"}})}),a.jsxs(je,{store:k,width:250,position:"bottom-start",withArrow:!0,onOptionSubmit:g=>{C(g),k.closeDropdown()},children:[a.jsx(je.Target,{withAriaAttributes:!1,children:a.jsx(Y,{onClick:()=>k.toggleDropdown(),children:u("Collection")})}),a.jsxs(je.Dropdown,{children:[a.jsx(je.Search,{value:P,onChange:g=>R(g.currentTarget.value),placeholder:u("Search collection")}),a.jsx(je.Options,{children:A.length>0?A:a.jsx(je.Empty,{children:u("Not found")})})]})]}),a.jsx(Je,{size:"xl","aria-label":"Reload NFTs",loading:!t,loaderProps:{type:"dots"},onClick:()=>o(),children:a.jsx(Tt,{})})]}),a.jsx(qe,{cols:{base:1,md:2,lg:3},spacing:"md",children:D})]}):a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(v,{children:u("No NFTs for collateral")})}),a.jsx(Ms,{data:i})]})}):a.jsx(ht,{className:Ft.loader})]})}const li="_card_1t8bd_1",ci="_cardSection_1t8bd_12",di="_section_1t8bd_17",ui="_input_1t8bd_22",fi="_label_1t8bd_27",hi="_icon_1t8bd_36",pi="_balance_1t8bd_40",gi="_loader_1t8bd_47",mi="_refresh_1t8bd_52",re={card:li,cardSection:ci,section:di,input:ui,label:fi,icon:hi,balance:pi,loader:gi,refresh:mi};function xi({size:t,style:e,...s}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 32 32",style:{width:t,height:t,...e},...s,children:a.jsx("path",{d:"M17.922 17.383v-.002c-.11.008-.677.042-1.942.042c-1.01 0-1.721-.03-1.971-.042v.003c-3.888-.171-6.79-.848-6.79-1.658c0-.809 2.902-1.486 6.79-1.66v2.644c.254.018.982.061 1.988.061c1.207 0 1.812-.05 1.925-.06v-2.643c3.88.173 6.775.85 6.775 1.658c0 .81-2.895 1.485-6.775 1.657m0-3.59v-2.366h5.414V7.819H8.595v3.608h5.414v2.365c-4.4.202-7.709 1.074-7.709 2.118c0 1.044 3.309 1.915 7.709 2.118v7.582h3.913v-7.584c4.393-.202 7.694-1.073 7.694-2.116c0-1.043-3.301-1.914-7.694-2.117"})})}const tt=7;function bi({user:t,bankFinance:e,usdtBankFinance:s,reloadAccount:n,accountLoading:r,tx:i,resetStates:o}){var ne,ce;const{t:l}=we(),[c,d]=S.useState("1"),[f,p]=S.useState("1"),[u,m]=S.useState(),[y,x]=S.useState(0),[b,P]=S.useState("1"),[R,z]=S.useState("1"),[C,I]=S.useState(),[U,O]=S.useState(0),[X,F]=S.useState(0),[B,k]=S.useState(0),[A,V]=S.useState(0),[D,h]=S.useState(0),[g,w]=S.useState(0),[j,E]=S.useState(0),[T,W]=S.useState(0),[ie,q]=S.useState(0);return S.useEffect(()=>{if(e===null)return;let _=Math.floor((e.balance+e.credits)/1e7)/100;F(_);let H=y/_*100;k(H);let le=y,ae=e.balance/Ae;y>ae&&(le=ae),V(le);let ve=e.credits/Ae/_*100;h(ve)},[e,y]),S.useEffect(()=>{if(t.account!==null){let _=Math.floor(t.account.balance*t.account.rate/t.account.decimals)/t.account.decimals;x(_)}},[t.account]),S.useEffect(()=>{if(s===null)return;let _=Math.floor(100*(s.balance+s.credits)/ue)/100;w(_);let H=U/_*100;E(H);let le=U,ae=s.balance/ue;U>ae&&(le=ae),W(le);let ve=s.credits/ue/_*100;q(ve)},[s,U]),S.useEffect(()=>{if(t.usdtAccount!==null){let _=Math.floor(t.usdtAccount.balance*t.usdtAccount.rate/ue)/ue;O(_)}},[t.usdtAccount]),a.jsx(a.Fragment,{children:a.jsxs(qe,{cols:{base:1,sm:4},spacing:"md",children:[t.account!==null?a.jsx(Q,{withBorder:!0,radius:"md",className:re.card,children:a.jsxs(Q.Section,{className:re.cardSection,children:[a.jsx(Ct,{className:re.icon,size:60,radius:60,color:"blue",children:a.jsx(vn,{style:{width:M(48),height:M(48)},stroke:1.5})}),a.jsx(v,{ta:"center",fz:"lg",fw:700,mt:"md",className:re.balance,children:a.jsx(ee,{value:y,decimalScale:3,suffix:" TON"})}),a.jsx(v,{ta:"center",c:"dimmed",fz:"sm",children:l("Balance")}),a.jsxs(te,{defaultValue:"deposit",children:[a.jsxs(te.List,{justify:"center",children:[a.jsx(te.Tab,{value:"deposit",children:l("Replenishment")}),a.jsx(te.Tab,{value:"withdraw",disabled:t.account.balance<10,children:l("Withdrawal")}),a.jsx(te.Tab,{value:"info",children:l("Info")})]}),a.jsxs(te.Panel,{value:"deposit",children:[a.jsx(Ue,{mt:"md",label:l("Amount")+" TON",placeholder:"1",classNames:re,defaultValue:1,allowNegative:!1,min:1e-9,max:(ne=t.holder)==null?void 0:ne.limit,value:c,onChange:d,error:u,decimalScale:tt,decimalSeparator:",",hideControls:!0,disabled:((ce=t.holder)==null?void 0:ce.limit)===0,rightSection:a.jsx(Y,{size:"compact-md",variant:"outline",onClick:()=>{var _;d(Number((_=t.holder)==null?void 0:_.limit)),console.log("MAX Deposit: ",c+"")},children:"max"})}),a.jsx(Y,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{var H;let _=(H=t.holder)!=null&&H.fullLimit?t.holder.fullLimit:0;_&&t.account!==null&&(_=t.account.rate*_,console.log("Deposit Limit: ",_)),i.depositAccount(c,_).then(le=>{console.log("tx.depositAccount result: ",le),o()})},children:l("Top up")}),t.holder&&a.jsxs(v,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for replenishment"),": "," ",a.jsx(ee,{value:Math.floor(t.holder.limit*1e3)/1e3,fixedDecimalScale:!1,suffix:" TON"})]})]}),a.jsxs(te.Panel,{value:"withdraw",children:[a.jsx(Ue,{mt:"md",label:l("Amount")+" TON",placeholder:"1",classNames:re,defaultValue:1,allowNegative:!1,min:1e-9,max:A,value:f,onChange:p,error:u,decimalScale:tt,decimalSeparator:",",hideControls:!0,rightSection:a.jsx(Y,{size:"compact-md",variant:"outline",onClick:()=>{p(A),console.log("MAX Withdraw: ",f+"")},children:"max"})}),t.account.balance>0&&a.jsx(Y,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.account!==null&&t.account.address!==null){m(void 0);let _=Math.floor(t.account.decimals*Number(f)/t.account.rate*t.account.decimals)+"";i.withdrawAccount(_,t.account.address.toString()).then(H=>{console.log("tx.withdrawAccount result: ",H),o()})}},children:l("Withdraw")}),a.jsxs(v,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for withdraw"),": "," ",a.jsx(ee,{value:Math.floor(A*1e3)/1e3,fixedDecimalScale:!1,suffix:" TON"})]})]}),e&&a.jsxs(te.Panel,{value:"info",children:[a.jsxs(v,{c:"dimmed",fz:"sm",mt:"md",children:[l("Total pool balance"),": ",X," TON"]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Pool share"),": "," ",a.jsx(ee,{value:B,fixedDecimalScale:!1,decimalScale:3,suffix:" %"})]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("APY"),": "," ",a.jsx(ee,{value:(e.rate/Ae-1)*100,fixedDecimalScale:!1,decimalScale:3,suffix:" %"})]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Utilization rate"),": "," ",a.jsx(ee,{value:D,fixedDecimalScale:!1,decimalScale:3,suffix:" %"})]})]})]}),a.jsx(Je,{className:re.refresh,"aria-label":l("Reload"),variant:"subtle",loading:r,onClick:()=>n(),children:a.jsx(Tt,{})})]})}):a.jsx(ht,{className:re.loader}),t.usdtAccount!==null&&a.jsx(Q,{withBorder:!0,radius:"md",className:re.card,children:a.jsxs(Q.Section,{className:re.cardSection,children:[a.jsx(Ct,{className:re.icon,size:60,radius:60,color:"teal",children:a.jsx(xi,{style:{width:M(48),height:M(48)}})}),a.jsx(v,{ta:"center",fz:"lg",fw:700,mt:"md",className:re.balance,children:a.jsx(ee,{value:U,decimalScale:3,suffix:" USDT"})}),a.jsx(v,{ta:"center",c:"dimmed",fz:"sm",children:l("Balance")}),a.jsxs(te,{defaultValue:"deposit",children:[a.jsxs(te.List,{justify:"center",children:[a.jsx(te.Tab,{value:"deposit",children:l("Replenishment")}),a.jsx(te.Tab,{value:"withdraw",disabled:t.usdtAccount.balance<10,children:l("Withdrawal")}),a.jsx(te.Tab,{value:"info",children:l("Info")})]}),a.jsxs(te.Panel,{value:"deposit",children:[a.jsx(Ue,{mt:"md",label:l("Amount")+" USDT",placeholder:"1",classNames:re,defaultValue:1,allowNegative:!1,min:1e-5,value:b,onChange:P,error:C,decimalScale:tt,decimalSeparator:",",hideControls:!0,rightSection:a.jsx(Y,{size:"compact-md",variant:"outline",onClick:()=>{var _,H;P(Number((_=t.usdtWallet)==null?void 0:_.balance)/Number((H=t.usdtWallet)==null?void 0:H.decimals)),console.log("MAX Deposit: ",b+"")},children:"max"})}),a.jsx(Y,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.usdtWallet){const _=Number(b)*t.usdtWallet.decimals;i.depositUsdtAccount(_,t.usdtWallet.address).then(H=>{console.log("tx.depositUsdtAccount result: ",H),o()})}},children:l("Top up")}),t.usdtWallet&&a.jsxs(v,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for replenishment"),": "," ",a.jsx(ee,{value:Math.floor(t.usdtWallet.balance/t.usdtWallet.decimals*1e3)/1e3,fixedDecimalScale:!1,suffix:" USDT"})]})]}),a.jsxs(te.Panel,{value:"withdraw",children:[a.jsx(Ue,{mt:"md",label:l("Amount")+" USDT",placeholder:"1",classNames:re,defaultValue:1,allowNegative:!1,min:1e-6,max:T,value:R,onChange:z,error:C,decimalScale:tt,decimalSeparator:",",hideControls:!0,rightSection:a.jsx(Y,{size:"compact-md",variant:"outline",onClick:()=>{z(T),console.log("MAX Withdraw: ",R+"")},children:"max"})}),t.usdtAccount.balance>0&&a.jsx(Y,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.usdtAccount!==null&&t.usdtAccount.address!==null){I(void 0);let _=Math.floor(t.usdtAccount.decimals*Number(R)/t.usdtAccount.rate*t.usdtAccount.decimals)+"";i.withdrawAccount(_,t.usdtAccount.address.toString()).then(H=>{console.log("tx.withdrawAccount (usdt) result: ",H),o()})}},children:l("Withdraw")}),a.jsxs(v,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for withdraw"),": "," ",a.jsx(ee,{value:Math.floor(T*1e3)/1e3,fixedDecimalScale:!1,suffix:" USDT"})]})]}),s&&a.jsxs(te.Panel,{value:"info",children:[a.jsxs(v,{c:"dimmed",fz:"sm",mt:"md",children:[l("Total pool balance"),": ",g," USDT"]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Pool share"),": "," ",a.jsx(ee,{value:j,fixedDecimalScale:!1,decimalScale:5,suffix:" %"})]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("APY"),": "," ",a.jsx(ee,{value:(s.rate/ue-1)*100,fixedDecimalScale:!1,decimalScale:3,suffix:" %"})]}),a.jsxs(v,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Utilization rate"),": "," ",a.jsx(ee,{value:ie,fixedDecimalScale:!1,decimalScale:3,suffix:" %"})]})]})]}),a.jsx(Je,{className:re.refresh,"aria-label":l("Reload"),variant:"subtle",loading:r,onClick:()=>n(),children:a.jsx(Tt,{})})]})})]})})}function yi(){const[t,e]=S.useState("light");return S.useEffect(()=>{oe.initDataUnsafe.user!==void 0&&e(oe.colorScheme)},[]),{colorScheme:t}}function Si(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,r,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)s=r[0],s==="*"?(o.push(s),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=r.indexOf("?",1),i=r.indexOf(".",1),o.push(r.substring(1,~n?n:~i?i:r.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Fs={exports:{}},Vs={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=S;function wi(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:wi,Ci=De.useState,ji=De.useEffect,Ti=De.useLayoutEffect,Oi=De.useDebugValue;function Ai(t,e){var s=e(),n=Ci({inst:{value:s,getSnapshot:e}}),r=n[0].inst,i=n[1];return Ti(function(){r.value=s,r.getSnapshot=e,St(r)&&i({inst:r})},[t,s,e]),ji(function(){return St(r)&&i({inst:r}),t(function(){St(r)&&i({inst:r})})},[t]),Oi(s),s}function St(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!vi(t,s)}catch{return!0}}function Ni(t,e){return e()}var Ei=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ni:Ai;Vs.useSyncExternalStore=De.useSyncExternalStore!==void 0?De.useSyncExternalStore:Ei;Fs.exports=Vs;var Pi=Fs.exports;const Ri=Cn["useInsertionEffect"],Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ii=Li?S.useLayoutEffect:S.useEffect,Ui=Ri||Ii,Hs=t=>{const e=S.useRef([t,(...s)=>e[0](...s)]).current;return Ui(()=>{e[0]=t}),e[1]},Di="popstate",Vt="pushState",Ht="replaceState",ki="hashchange",ps=[Di,Vt,Ht,ki],_i=t=>{for(const e of ps)addEventListener(e,t);return()=>{for(const e of ps)removeEventListener(e,t)}},Ks=(t,e)=>Pi.useSyncExternalStore(_i,t,e),Mi=()=>location.search,Bi=({ssrSearch:t=""}={})=>Ks(Mi,()=>t),gs=()=>location.pathname,zi=({ssrPath:t}={})=>Ks(gs,t?()=>t:gs),$i=(t,{replace:e=!1,state:s=null}={})=>history[e?Ht:Vt](s,"",t),Fi=(t={})=>[zi(t),$i],ms=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ms]>"u"){for(const t of[Vt,Ht]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,ms,{value:!0})}const Vi=(t="",e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Hi=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Ki=t=>{try{return decodeURI(t)}catch{return t}},Ws={hook:Fi,searchHook:Bi,parser:Si,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},qs=S.createContext(Ws),Qe=()=>S.useContext(qs),Js={},Gs=S.createContext(Js),Wi=()=>S.useContext(Gs),gt=t=>{const[e,s]=t.hook(t);return[Ki(Vi(t.base,e)),Hs((n,r)=>s(Hi(n,t.base),r))]},qi=()=>gt(Qe()),Xs=(t,e,s,n)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=r.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((p,u)=>[p,c[u]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...n?[l]:[]]:[!1,null]},Ji=({children:t,...e})=>{var f,p;const s=Qe(),n=e.hook?Ws:s;let r=n;const[i,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let l=S.useRef({}),c=l.current,d=c;for(let u in n){const m=u==="base"?n[u]+(e[u]||""):e[u]||n[u];c===d&&m!==d[u]&&(l.current=d={...d}),d[u]=m,m!==n[u]&&(r=d)}return S.createElement(qs.Provider,{value:r,children:t})},xs=({children:t,component:e},s)=>e?S.createElement(e,{params:s}):typeof t=="function"?t(s):t,Gi=t=>{let e=S.useRef(Js),s=e.current;for(const n in t)t[n]!==s[n]&&(s=t);return e.current=s},Le=({path:t,nest:e,match:s,...n})=>{const r=Qe(),[i]=gt(r),[o,l,c]=s??Xs(r.parser,t,i,e),d=Gi({...Wi(),...l});if(!o)return null;const f=c?S.createElement(Ji,{base:c},xs(n,d)):xs(n,d);return S.createElement(Gs.Provider,{value:d,children:f})},Be=S.forwardRef((t,e)=>{const s=Qe(),[n,r]=gt(s),{to:i,href:o=i,onClick:l,asChild:c,children:d,className:f,replace:p,state:u,...m}=t,y=Hs(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),r(o,t)))}),x=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&S.isValidElement(d)?S.cloneElement(d,{onClick:y,href:x}):S.createElement("a",{...m,onClick:y,href:x,className:f!=null&&f.call?f(n===o):f,children:d,ref:e})}),Ys=t=>Array.isArray(t)?t.flatMap(e=>Ys(e&&e.type===S.Fragment?e.props.children:e)):[t],Xi=({children:t,location:e})=>{const s=Qe(),[n]=gt(s);for(const r of Ys(t)){let i=0;if(S.isValidElement(r)&&(i=Xs(s.parser,r.props.path,e||n,r.props.nest))[0])return S.cloneElement(r,{match:i})}return null},Yi="_icon_1u5u8_1",Qi="_dark_1u5u8_6",Zi="_light_1u5u8_16",ea="_inner_1u5u8_26",ta="_main_1u5u8_33",sa="_txt_1u5u8_37",Ie={icon:Yi,dark:Qi,light:Zi,inner:ea,main:ta,txt:sa},Qs=1e3;var ze=[],bs=0,Lt=1.2,Ve=Qs/Lt;const na=t=>{Lt=t,Ve=Qs/Lt},ot=t=>{let e,s=Date.now();if(t!==void 0?s-bs<Ve?(ze.push(t),ze.length===1&&setTimeout(ot,Ve)):e=t:e=ze.shift(),e!==void 0){let n=e;bs=s,fetch(e.url,e.data).then(r=>{n.onResponse(r),ze.length>0&&setTimeout(ot,Ve)}).catch(r=>{n.onError(r),ze.length>0&&setTimeout(ot,Ve)})}},Zs=(t,e)=>new Promise((s,n)=>{ot({url:t,data:e,onResponse:s,onError:n})}),It={method:"get"};let Ut;const he={ACCOUNTS:"accounts/",COLLECTIONS:"nfts/collections/",BLOCKCHAIN_ACCOUNTS:"blockchain/accounts/"},pe={NONE:"",NFTS:"/nfts",ITEMS:"/items",JETTONS:"/jettons",METHODS:"/methods",EVENTS:"/events",TRANSACTIONS:"/transactions"};function ge(t,e,s,n){let r=Ut+e+t+s;return n!==void 0&&(r+=n),Zs(r,It).then(i=>i.json())}const Ce={init:async t=>{It.headers=new Headers({Authorization:"Bearer "+t.tonApiProps.clientSideKey,"Content-Type":"application/json",accept:"application/json"}),Ut=t.tonApiProps.serverUrl,t.tonApiProps.limitPerSecond&&na(t.tonApiProps.limitPerSecond)},account:async t=>ge(t.toRawString(),he.ACCOUNTS,pe.NONE),accountNfts:async(t,e,s,n)=>e===void 0?ge(t.toRawString(),he.ACCOUNTS,pe.NFTS):ge(t.toRawString(),he.ACCOUNTS,pe.NFTS,"?indirect_ownership="+(e?"true":"false")+(s!==void 0?"&limit="+s:"")+(n!==void 0?"&offset="+n:"")),accountJettons:async t=>ge(t.toRawString(),he.ACCOUNTS,pe.JETTONS),method:async(t,e,s)=>ge(t.toString(),he.BLOCKCHAIN_ACCOUNTS,pe.METHODS,s!==void 0?"/"+e+"?args="+s:"/"+e),nftBulk:async t=>{const e={method:"post",body:JSON.stringify({account_ids:t}),headers:It.headers};return Zs(Ut+"nfts/_bulk",e).then(s=>s.json())},accountEvents:async(t,e,s,n)=>{let r;return typeof t=="string"?r=t:r=t.toRawString(),ge(r,he.ACCOUNTS,pe.EVENTS,"?limit="+(e!==void 0?e:"10")+(s!==void 0?"&start_date="+s:"")+(n!==void 0?"&end_date="+n:""))},accountTransactions:async(t,e,s,n)=>{let r;return typeof t=="string"?r=t:r=t.toRawString(),ge(r,he.BLOCKCHAIN_ACCOUNTS,pe.TRANSACTIONS,"?limit="+(e!==void 0?e:"10")+(s!==void 0?"&before_lt="+s:"")+(n!==void 0?"&after_lt="+n:""))},collection:async t=>ge(t.toRawString(),he.COLLECTIONS,pe.NONE),collectionNfts:async(t,e,s)=>e===void 0?ge(t.toRawString(),he.COLLECTIONS,pe.ITEMS):ge(t.toRawString(),he.COLLECTIONS,pe.ITEMS,"?limit="+e+(s!==void 0?"&offset="+s:""))};function Dt(t){const e={},s=t.metadata.attributes;return s instanceof Array&&s.map(r=>e[r.trait_type]=r.value),{address:t.address,owner:t.owner.address,previewUrl:t.previews[2].url,name:t.metadata.name,collectionName:" ",collectionAddress:" ",description:t.metadata.description,attributes:e,tokenId:t.index,addressFriendly:N.Address.parse(t.address).toString()}}function en(t,e,s,n){const r=[],i=[],o={};t.map(l=>{const c=l.collection;if(c!==void 0&&e.indexOf(c.address)>-1){const d=Dt(l);d.collectionName=c.name,d.collectionAddress=c.address,s.indexOf(c.address)<0&&(o[c.name]=c.name),r.push(d);return}if(n.indexOf(l.address)>-1){const d=Dt(l);r.push(d);return}});for(const l in o)i.push(l);return{nftItems:r,collectionNames:i}}function ra(t,e,s,n){return ia(t,e,s,n).then(r=>{let i=r.nftItems,o=r.collectionNames;return{nftItems:i,collectionNames:o}})}async function ia(t,e,s,n){let r=1e3,i=0,o=[];for(;r>0;){let l=await Ce.accountNfts(t,!1,r,i);const c=l.nft_items;c instanceof Array?(c.length<r&&(r=0),o.push(...c),i+=r):Promise.reject("[getListNft] Error: "+JSON.stringify(l))}return en(o,e,s,n)}const ys={STATUS_NOT_INIT:0,STATUS_INIT:1,STATUS_ACTIVE:2,STATUS_INACTIVE:3,STATUS_AUCTION_STARTED:4};function aa(t,e){const s=t.name.startsWith("USDT"),n=s?ue:Ae,r=s?Fe:$e;let i=t.description.split("+");const o=+i[3]/n,l=+i[4],c=+i[5],d=+i[6],f=Math.floor(Date.now()/1e3);let p,u=f-d;s&&u<Ee?u=(Math.floor(u/Ee)+1)*Ee:u<Ee&&(u=Ee);let m=o*u*l/Ee/Rr;m<r&&(m=r);const y=o+m,x=new Date((d+c)*1e3);let b=+i[2];if(b===ys.STATUS_ACTIVE)x.getTime()<Date.now()?b=J.WAIT_START_BID:b=J.ACTIVE;else if(b===ys.STATUS_AUCTION_STARTED){b=J.AUCTION_STARTED;const R=+i[7]/n,z=i[8],C=new Date(+i[9]*1e3);p={bid:R,bidder:z,finish:C,isMy:e==z},C.getTime()<Date.now()&&(b=J.AUCTION_FINISHED)}else b=J.ERROR;return{id:Number(t.tokenId),address:t.address,borrower:t.owner,pawnAddress:i[1],status:b,size:o,interest:l,duration:c,start:d,debt:y,end:x,auction:p,usdt:s}}async function tn(t,e,s){const n=[],r={},i=[];if(t.map(o=>{const l=aa(o,e);s?l.status<J.AUCTION_STARTED&&(n.push(l),r[l.pawnAddress]=l,i.push(l.pawnAddress)):(n.push(l),r[l.pawnAddress]=l,i.push(l.pawnAddress))}),i.length>0){const l=(await Ce.nftBulk(i)).nft_items;l instanceof Array&&l.map(c=>{const d=Dt(c);d.collectionName=c.collection.name,d.collectionAddress=c.collection.address;let f=r[d.addressFriendly];f&&(f.pawn=d)})}return console.log("[getListCredit] creditList: ",n),n}async function oa(t,e){const s=[];for(let r=0;r<t.length;r++){const i=t[r];let o=1e3,l=0;for(;o>0;){let c=await Ce.collectionNfts(N.Address.parse(i),o,l);const d=c.nft_items;d instanceof Array?(d.length<o&&(o=0),s.push(...d),l+=o):Promise.reject("[getListNft] Error: "+JSON.stringify(c))}}const n=en(s,t,[],[]);return tn(n.nftItems,e)}let xe=null,st=null,wt=null;function la(t){const e=t.allowedUsdtCollectionsProps!==void 0?t.allowedUsdtCollectionsProps:[],[s]=S.useState({address:null,account:null,usdtAccount:null,holder:null}),[n,r]=S.useState(!0),[i,o]=S.useState(null),[l,c]=S.useState(null),[d,f]=S.useState(null),[p,u]=S.useState([]),m=$t(),y=N.Address.parse(t.bankAddress),x=t.usdtBankAddress?N.Address.parse(t.usdtBankAddress):null,b=t.usdtMaster?N.Address.parse(t.usdtMaster):null,P=t.holderCollections,R=t.creditCollectionAddress,z=[];for(let A=0;A<t.allowedCollectionsProps.length;A++){const V=t.allowedCollectionsProps[A];z.push(V.address)}const C=[];for(let A=0;A<e.length;A++){const V=e[A];C.push(V.address)}const I=[];for(let A=0;A<t.allowedCustomNftProps.length;A++){const V=t.allowedCustomNftProps[A];I.push(V.address)}const U=()=>(r(!0),new Promise((A,V)=>{Ce.method(y,"get_finance").then(D=>{if(D.success===!0){let h={balance:Number(D.stack[0].num),rate:Number(D.stack[1].num),credits:Number(D.stack[2].num)};console.log("[reloadBank] financeData: ",D),st=h,A(h)}else V("[reloadBank] Error get_finance:: "+JSON.stringify(D))})})),O=()=>new Promise((A,V)=>{x===null?A(!0):Ce.method(x,"get_finance").then(D=>{if(D.success===!0){let h={balance:Number(D.stack[0].num),rate:Number(D.stack[1].num),credits:Number(D.stack[2].num)};console.log("[reloadUsdtBank] financeData: ",D),wt=h,A(h)}else V("[reloadBank] Error get_finance:: "+JSON.stringify(D))})}),X=()=>xe===null?Promise.reject("[reloadAccount] myAddress is null"):Ce.accountJettons(xe).then(A=>{if(st===null)return Promise.reject("[reloadAccount] bankFinance is null");const V=st,D=wt;console.log("[reloadAccount] data: ",A);let h=A.balances,g=null,w=null,j=null;if(h){for(let E=0;E<h.length;E++){const T=h[E],W=N.Address.parse(T.jetton.address);y.equals(W)?g=T:x&&x.equals(W)?w=T:b&&b.equals(W)&&(j=T)}if(j!==null&&(s.usdtWallet={address:N.Address.parse(j.wallet_address.address),balance:Number(j.balance),decimals:Math.pow(10,j.jetton.decimals)}),w!==null){const E=Math.pow(10,w.jetton.decimals),T={address:N.Address.parse(w.wallet_address.address),balance:Number(w.balance),decimals:E,rate:E};D&&(T.rate=D.rate),s.usdtAccount=T}else D!==null&&(s.usdtAccount={address:null,balance:0,decimals:Ae,rate:D.rate});if(g!==null){const E=Math.pow(10,g.jetton.decimals),T={address:N.Address.parse(g.wallet_address.address),balance:Number(g.balance),decimals:E,rate:V.rate};s.account=T}else s.account={address:null,balance:0,decimals:Ae,rate:V.rate};if(s.holder){let E=s.holder.fullLimit;E-=s.account.rate/s.account.decimals*s.account.balance/s.account.decimals,s.holder.limit=E,s.holder.limit<0&&(s.holder.limit=0)}return r(!1),!0}}),F=()=>{if(o(null),c(null),xe===null)return Promise.reject("[reloadNfts] MyAddress is null");let A=[...z,...C,...P,...R];return ra(xe,A,R,I).then(V=>{console.log("[reloadNfts] data: ",V),u(V.collectionNames);let D=[],h=[],g=0;const w=t.holderCollectionsProps,j=t.allowedCollectionsProps,E=e,T=t.allowedCustomNftProps;for(let W=0;W<V.nftItems.length;W++){const ie=V.nftItems[W];let q=ie.collectionAddress,ne=P.indexOf(q);if(ne>-1){let ae=w[ne].limitAttributeName,ve=w[ne].limitAttributes;if(ae){let Kt=ie.attributes[ae];if(Kt){let Wt=ve[Kt],un=Wt===void 0?ve.default:Wt;g+=un}}else g+=ve.default}const ce=I.indexOf(ie.address);ce>-1&&D.push({props:T[ce],nft:ie});const _=z.indexOf(q);_>-1&&ce===-1&&D.push({props:j[_],nft:ie});const H=C.indexOf(q);H>-1&&ce===-1&&D.push({props:E[H],nft:ie}),R.indexOf(q)>-1&&h.push(ie)}if(o(D),g>0){let W={limit:g,fullLimit:g};s.holder=W}if(h.length>0)return tn(h,"",!0).then(W=>{c(W)})})},B=()=>xe===null?Promise.reject("[reloadAuctions] myAddress is null"):s.holder===null?Promise.resolve(!1):oa(R,xe.toString()).then(A=>{f(A)});return S.useEffect(()=>{if(m===null){xe=null,s.address=null,s.account=null,s.holder=null,o(null),c(null);return}xe=N.Address.parse(m.account.address),s.address=xe,U().then(O).then(F).then(X).then(B)},[m,t]),{user:s,reloadAccount:X,accountLoading:n,bankFinance:st,usdtBankFinance:wt,nfts:i,credits:l,auctions:d,collectionNames:p,reloadNftsAndAuctions:()=>F().then(()=>B())}}function ca({activeState:t,errorState:e}){const{t:s}=we();return a.jsxs(Ze,{active:t,orientation:"vertical",children:[a.jsx(Ze.Step,{label:s("Transaction"),description:s("Confirm the transaction in your wallet"),loading:t===1&&e!==1,completedIcon:e===1?a.jsx(Gt,{style:{width:M(20),height:M(20)}}):"",color:e===1?"red":""}),a.jsx(Ze.Step,{label:s("Checking"),description:s("Checking the transaction progress. Please wait."),loading:t===2&&e!==2,completedIcon:e===2?a.jsx(Gt,{style:{width:M(20),height:M(20)}}):"",color:e===2?"red":""}),a.jsx(Ze.Step,{label:s("Update"),description:s("Updating data from the blockchain."),loading:t===3})]})}function da({activeState:t,errorState:e}){const[s,{open:n,close:r}]=at(!1),{t:i}=we();return S.useEffect(()=>{t>0?(console.log("[TransactionModal] open: ",t),n()):(console.log("[TransactionModal] close: ",t),r())},[t]),a.jsx(jn,{opened:s,onClose:r,title:i("Conducting a transaction"),centered:!0,children:t>0&&a.jsx(ca,{activeState:t,errorState:e})})}const Ss=4,be=N.toNano("0.20"),nt=N.toNano("0.1"),sn=N.toNano("0.03"),ws=(2n*sn+be).toString(),vs=(t,e,s)=>N.beginCell().storeUint(1607220500,32).storeUint(0,64).storeAddress(e).storeAddress(t).storeUint(0,1).storeCoins(be).storeBuilder(s.asBuilder()).endCell();function ua(t){const[e]=zt(),s=$t(),[n,r]=S.useState("");return S.useEffect(()=>{r(s===null?"":s.account.address)},[s]),{sender:{depositAccount:async(i,o)=>{const l=N.beginCell().storeUint(65537,32).storeUint(1,64).storeCoins(N.toNano(i)).storeCoins(BigInt(o)).endCell(),c=N.toNano(i)+nt,d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:t.bankAddress,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},withdrawAccount:async(i,o)=>{const l=N.beginCell().storeUint(1499400124,32).storeUint(1,64).storeCoins(BigInt(i)).storeAddress(N.Address.parse(n)).storeUint(0,1).endCell(),c={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:o,amount:nt.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(c)},createCredit:async(i,o,l)=>{const c=vs(N.Address.parse(n),N.Address.parse(o),l),d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:ws,payload:c.toBoc().toString("base64")}]};return e.sendTransaction(d)},createCreditMass:async(i,o,l)=>{const c=[],d=i.length>Ss?Ss:i.length,f=N.Address.parse(n);for(let u=0;u<d;u++){const m=vs(f,N.Address.parse(o[u]),l[u]);c.push({address:i[u],amount:ws,payload:m.toBoc().toString("base64")})}const p={validUntil:Math.floor(Date.now()/1e3)+360,messages:c};return e.sendTransaction(p)},renewalCredit:async(i,o)=>{const l=N.beginCell().storeUint(65541,32).storeUint(1,64).endCell();let c=N.toNano(o)+sn;const d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},redeemCredit:async(i,o)=>{const l=N.beginCell().storeUint(65540,32).storeUint(1,64).endCell();let c=N.toNano(o)+be;const d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},makeBid:async(i,o)=>{const l=N.toNano(o),c=N.beginCell().storeUint(65542,32).storeUint(1,64).storeCoins(l).endCell();let d=l+be;const f={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:d.toString(),payload:c.toBoc().toString("base64")}]};return e.sendTransaction(f)},takeLot:async i=>{const o=N.beginCell().storeUint(65543,32).storeUint(1,64).endCell(),l={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:be.toString(),payload:o.toBoc().toString("base64")}]};return e.sendTransaction(l)},depositUsdtAccount:async(i,o)=>{const l=N.Address.parse(n),c=N.beginCell().storeUint(196609,32).endCell(),d=N.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(i).storeAddress(N.Address.parse(t.usdtBankAddress)).storeAddress(l).storeMaybeRef(null).storeCoins(nt/2n).storeBit(!0).storeRef(c).endCell(),f=nt,p={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:o.toString(),amount:f.toString(),payload:d.toBoc().toString("base64")}]};return e.sendTransaction(p)},redeemUsdtCredit:async(i,o,l)=>{const c=N.Address.parse(n),d=N.beginCell().storeUint(65540,32).storeUint(i,32).endCell(),f=o*ue,p=N.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(f).storeAddress(N.Address.parse(t.usdtVerifier)).storeAddress(c).storeMaybeRef(null).storeCoins(be-N.toNano("0.02")).storeBit(!0).storeRef(d).endCell(),u={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:l.toString(),amount:be.toString(),payload:p.toBoc().toString("base64")}]};return e.sendTransaction(u)},takeUsdtPawn:async(i,o,l)=>{const c=N.Address.parse(n),d=N.beginCell().storeUint(65543,32).storeUint(i,32).endCell(),f=o*ue,p=N.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(f).storeAddress(N.Address.parse(t.usdtVerifier)).storeAddress(c).storeMaybeRef(null).storeCoins(be-N.toNano("0.02")).storeBit(!0).storeRef(d).endCell(),u={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:l.toString(),amount:be.toString(),payload:p.toBoc().toString("base64")}]};return e.sendTransaction(u)},walletAddress:n}}}const G={NONE:0,APPROVE:1,CHECK:2,RELOAD:3},kt=[1e4,15e3,2e4,3e4];function nn(t,e,s,n,r,i){Ce.accountTransactions(r,5).then(o=>{console.log("--+ Tonapi.accountTransactions: ",o),console.log("--+ Tonapi.accountTransactions extHash: ",i);const l=o.transactions;let c=!0;if(l instanceof Array&&l.length>0)for(let d=0;d<l.length;d++){const f=l[d];if(f.in_msg.hash===i&&f.success===!0){c=!1,t("Ok");break}}if(c){const d=s+1;d>3?e("Max attempt"):setTimeout(()=>{nn(t,e,d,n,r,i)},kt[d-1])}}).catch(o=>e(o))}function fa(t,e,s){const{sender:n}=ua(t),[r,i]=S.useState(G.NONE),[o,l]=S.useState(G.NONE),[c,d]=S.useState(0),f=()=>{i(G.NONE),l(G.NONE)},p=(y,x)=>{i(G.CHECK);const b=N.Cell.fromBase64(x).hash().toString("hex");return new Promise((P,R)=>{setTimeout(()=>{nn(P,R,1,c,y,b)},kt[0])}).catch(P=>{console.warn("useSendTransaction STATE.CHECK sellNft: ",r,P),l(G.CHECK)})},u=y=>(i(G.RELOAD),new Promise((x,b)=>{setTimeout(()=>{y().then(x).catch(b)},kt[3])}).catch(x=>{console.warn("useSendTransaction STATE.RELOAD doReload: ",r,x),l(G.RELOAD)})),m=y=>{console.warn("useSendTransaction STATE.APPROVE catchApprove: ",r,y),l(G.APPROVE)};return{tx:{depositAccount:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.depositAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),withdrawAccount:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.withdrawAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),createCredit:async(y,x,b)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.createCredit(y,x,b).then(P=>p(n.walletAddress,P.boc)).then(()=>u(s)).catch(m)),createCreditMass:async(y,x,b)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.createCreditMass(y,x,b).then(P=>p(n.walletAddress,P.boc)).then(()=>u(s)).catch(m)),redeemCredit:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.redeemCredit(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),renewalCredit:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.renewalCredit(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),makeBid:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.makeBid(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),takeLot:async y=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.takeLot(y).then(x=>p(n.walletAddress,x.boc)).then(()=>u(s)).catch(m)),depositUsdtAccount:async(y,x)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.depositUsdtAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),redeemUsdtCredit:async(y,x,b)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.redeemUsdtCredit(y,x,b).then(P=>p(n.walletAddress,P.boc)).then(()=>u(s)).catch(m)),takeUsdtPawn:async(y,x,b)=>(i(G.APPROVE),d(Math.floor(Date.now()/1e3)),n.takeUsdtPawn(y,x,b).then(P=>p(n.walletAddress,P.boc)).then(()=>u(s)).catch(m))},activeState:r,errorState:o,resetStates:f}}const ha=["Error","Not expired","Loan repaid","Waiting for the bid","Auction in progress","Auction is over"];function pa({auction:t,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:o}){var c,d,f,p,u,m,y,x;const l=t.usdt===!0;return a.jsxs(Q,{withBorder:!0,children:[a.jsxs(Q.Section,{children:[a.jsx(v,{fz:"xs",c:"dimmed",ml:"2px",children:(c=t.pawn)==null?void 0:c.collectionName}),a.jsx(v,{fw:500,ml:"2px",children:(d=t.pawn)==null?void 0:d.name}),a.jsxs(fe,{preventGrowOverflow:!1,wrap:"nowrap",children:[a.jsx(We,{variant:"filled",radius:"sm",src:(f=t.pawn)==null?void 0:f.previewUrl,size:"xl"}),a.jsxs(K,{children:[t.status<J.AUCTION_STARTED&&a.jsxs(a.Fragment,{children:[a.jsx(K.Col,{span:6,children:a.jsxs(v,{size:"xs",children:[" ",$("Loan"),": ",t.size," ",l?"USDT":"TON"]})}),a.jsx(K.Col,{span:6,children:a.jsxs(v,{size:"xs",children:[" ",$("Date"),": ",t.end.toLocaleDateString("ru-RU")," "]})})]}),t.status===J.AUCTION_STARTED&&a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[" ",$("End"),": ",((p=t.auction)==null?void 0:p.finish.toLocaleDateString("ru-RU"))+" "+((u=t.auction)==null?void 0:u.finish.toLocaleTimeString("ru-RU"))," "]})}),a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[$("Status"),": ",l&&t.status===J.WAIT_START_BID?$("Waiting for ransom"):$(ha[t.status]),"."]})}),a.jsxs(K.Col,{span:12,children:[!l&&t.status<J.AUCTION_STARTED&&a.jsxs(v,{size:"xs",children:[$("Start bid"),": "," ",a.jsx(ee,{value:Pt*t.size+t.size,decimalScale:3,suffix:l?" USDT":" TON"})]}),l&&t.status<J.AUCTION_STARTED&&a.jsxs(v,{size:"xs",children:[$("Redemption cost"),": "," ",a.jsx(ee,{value:t.debt,decimalScale:3,suffix:l?" USDT":" TON"})]}),a.jsxs(fe,{children:[t.status===J.AUCTION_STARTED&&a.jsxs(v,{size:"xs",children:[$("Current bid"),": "," ",a.jsx(ee,{value:(m=t.auction)==null?void 0:m.bid,decimalScale:3,suffix:l?" USDT":" TON"})]}),((y=t.auction)==null?void 0:y.isMy)&&a.jsxs(v,{c:"teal.4",size:"xs",children:[" ",$("My")," "]})]})]})]})]})]}),a.jsxs(Q.Section,{children:[!l&&t.status>J.CREDIT_CLOSED&&t.status<J.AUCTION_FINISHED&&a.jsx(Y,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{n(t),r(ye.MAKE_BET),i.open()},children:$("Make bid")}),!l&&t.status===J.AUCTION_FINISHED&&((x=t.auction)==null?void 0:x.isMy)&&a.jsx(Y,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{e.takeLot(t.address).then(b=>{console.log("tx.makeBid result: ",b),s()})},children:$("Take lot")}),l&&t.status>J.CREDIT_CLOSED&&t.status<J.AUCTION_FINISHED&&a.jsx(Y,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{o&&e.takeUsdtPawn(t.id,t.debt,o.address).then(b=>{console.log("tx.makeBid result: ",b),s()})},children:$("Buy out")})]})]},t.address)}function ga({auctions:t,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:o}){const{t:l}=we(),[c,d]=S.useState([]);S.useEffect(()=>{if(t===null)return;const p=[...t];p.sort(function(u,m){return u.end.getTime()-m.end.getTime()}),d(p)},[t]);const f=c.map(p=>a.jsx(pa,{auction:p,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:o},p.address));return a.jsxs(Ye,{size:"xl",pl:"0",pr:"0",children:[a.jsx(jt,{my:"xs",label:l("Auctions"),labelPosition:"center"}),t?a.jsx(qe,{cols:{base:1,md:2,lg:3},spacing:"md",children:f}):a.jsx(ht,{className:Ft.loader})]})}const ma=["Borrow","Make bid"];function xa({offer:t,auction:e,transactionType:s,opened:n,handler:r,tx:i,resetStates:o,bankFinance:l,usdtBankFinance:c}){var I,U,O,X,F;const{t:d}=we(),[f,p]=S.useState(1),[u,m]=S.useState(1),[y,x]=S.useState(0),[b,P]=S.useState(1),[R,z]=S.useState(.1),C=(t==null?void 0:t.props.usdt)===!0;return S.useEffect(()=>{if(s===ye.GET_CREDIT&&t!==null){const B=t.props.interest/100;let k=t.props.duration*Number(f)*B;C&&k<Fe?k=Fe:k<$e&&(k=$e),P(parseFloat(k.toFixed(3)));let A=Number(f)*B;C&&A<Fe?A=Fe:A<$e&&(A=$e),z(parseFloat(A.toFixed(2)))}},[f,t]),S.useEffect(()=>{if(s===ye.GET_CREDIT&&t!==null&&p(t.props.size),s===ye.MAKE_BET&&e!==null){let B=0;e.status===J.WAIT_START_BID&&(B=Pt*e.size+e.size),e.status===J.AUCTION_STARTED&&(B=Pt*e.size+e.auction.bid),B=Math.floor(B*1e3)/1e3,m(B),p(B)}},[s,t,e]),S.useEffect(()=>{if(t!=null&&t.props.usdt){if(c===null)return;let B=c.balance/ue;x(B)}else{if(l===null)return;let B=l.balance/Ae;x(B)}},[l,c,t]),a.jsxs(Tn,{opened:n,onClose:()=>{r.close()},position:"top",size:"md",overlayProps:{backgroundOpacity:.5,blur:4},transitionProps:{transition:"rotate-left",duration:150,timingFunction:"linear"},closeButtonProps:{icon:a.jsx(On,{size:32,stroke:1.5})},title:d(ma[s]),children:[a.jsx(An.InitialFocus,{}),t!==null&&l!==null&&s===ye.GET_CREDIT?a.jsxs(a.Fragment,{children:[a.jsxs(Q,{withBorder:!0,children:[a.jsxs(Q.Section,{children:[a.jsx(v,{fz:"xs",c:"dimmed",ml:"2px",children:t.nft.collectionName}),a.jsx(v,{fw:500,ml:"2px",truncate:"end",children:t.nft.name}),a.jsxs(fe,{preventGrowOverflow:!1,wrap:"nowrap",children:[a.jsx(We,{variant:"filled",radius:"sm",src:t.nft.previewUrl,size:"xl"}),a.jsxs(K,{children:[a.jsxs(K.Col,{span:6,children:[a.jsxs(v,{size:"xs",children:[" ",d("Loan"),": ",t.props.size," ",C?"USDT":"TON"]}),a.jsxs(v,{size:"xs",children:[" ",d("Per day"),": ",t.props.interest," %"]})]}),a.jsxs(K.Col,{span:6,children:[a.jsxs(v,{size:"xs",children:[" ",d("Term"),": ",t.props.duration," ",d("days")]}),a.jsxs(v,{size:"xs",children:[" ",d("Minimum"),": ",R," ",C?"USDT":"TON"]})]}),a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[d("For the entire period"),": ",b," ",C?"USDT":"TON"]})})]})]})]}),a.jsx(Q.Section,{})]},t.nft.address),a.jsx(Ue,{label:d("Enter the loan amount")+(C?" USDT":" TON"),description:d("Maximum")+": "+t.props.size+(C?" USDT":" TON"),defaultValue:t.props.size,allowNegative:!1,value:f,onChange:p,allowedDecimalSeparators:[".",","],clampBehavior:"strict",min:1,max:t.props.size}),Number(f)<y?a.jsxs(Y,{variant:"filled",color:C?"teal":"blue",fullWidth:!0,mt:"xs",onClick:()=>{r.close(),Bs(t,Number(f)).then(B=>{i.createCredit(t.nft.address,t.props.verifier,B).then(k=>{console.log("tx.createCredit result: ",k),o()})})},children:[d("Get")," ",f," ",C?"USDT":"TON"]}):a.jsx(v,{c:"red.4",children:d("Not enough funds in the lending pool.")})]}):a.jsx(ht,{className:Ft.loader}),e&&s===ye.MAKE_BET&&a.jsxs(a.Fragment,{children:[a.jsx(Q,{withBorder:!0,children:a.jsxs(Q.Section,{children:[a.jsx(v,{fz:"xs",c:"dimmed",ml:"2px",children:(I=e.pawn)==null?void 0:I.collectionName}),a.jsx(v,{fw:500,ml:"2px",children:(U=e.pawn)==null?void 0:U.name}),a.jsxs(fe,{preventGrowOverflow:!1,wrap:"nowrap",children:[a.jsx(We,{variant:"filled",radius:"sm",src:(O=e.pawn)==null?void 0:O.previewUrl,size:"xl"}),a.jsxs(K,{children:[e.status===J.WAIT_START_BID&&a.jsxs(a.Fragment,{children:[a.jsx(K.Col,{span:6,children:a.jsxs(v,{size:"xs",children:[" ",d("Loan"),": ",e.size," TON"]})}),a.jsx(K.Col,{span:6,children:a.jsxs(v,{size:"xs",children:[" ",d("Date"),": ",e.end.toLocaleDateString("ru-RU")," "]})})]}),e.status===J.AUCTION_STARTED&&a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[" ",d("End"),": ",((X=e.auction)==null?void 0:X.finish.toLocaleDateString("ru-RU"))+" "+((F=e.auction)==null?void 0:F.finish.toLocaleTimeString("ru-RU"))," "]})}),a.jsx(K.Col,{span:12,children:a.jsxs(v,{size:"xs",children:[d("Minimal bid"),": "," ",a.jsx(ee,{value:u,decimalScale:3,suffix:" TON"})]})})]})]})]})},e.address),s===ye.MAKE_BET&&a.jsx(Ue,{label:d("Enter the bid amount TON"),description:d("Minimum")+": "+u+" TON",defaultValue:u,allowNegative:!1,value:f,onChange:p,min:u,allowedDecimalSeparators:[".",","]}),e.status>J.CREDIT_CLOSED&&a.jsx(Y,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{r.close(),i.makeBid(e.address,Number(f)).then(B=>{console.log("tx.makeBid result: ",B),o()})},children:d("Make bid")})]})]})}function ba({config:t}){var _;const e=t.allowedUsdtCollectionsProps!==void 0?[...t.allowedCollectionsProps,...t.allowedUsdtCollectionsProps]:t.allowedCollectionsProps,{user:s,reloadAccount:n,accountLoading:r,bankFinance:i,usdtBankFinance:o,nfts:l,credits:c,auctions:d,collectionNames:f,reloadNftsAndAuctions:p}=la(t),{tx:u,activeState:m,errorState:y,resetStates:x}=fa(t,n,p),{colorScheme:b}=yi(),[P,R]=zt(),{setColorScheme:z}=Nn(),C=En("light",{getInitialValueInEffect:!0}),I=()=>{z(C==="light"?"dark":"light")},[,U]=qi(),{t:O,i18n:X}=we();R({uiPreferences:{theme:b==="dark"?Ot.DARK:Ot.LIGHT}});const F=$t(),[B,{toggle:k}]=at(),[A,{toggle:V}]=at(!0),[D,h]=at(!1),[g,w]=S.useState(null),[j,E]=S.useState(null),[T,W]=S.useState(ye.GET_CREDIT),[ie,q]=S.useState(!0),[ne,ce]=S.useState("en");return S.useEffect(()=>{X.changeLanguage(ne);let H="en";ne==="ru"&&(H="ru"),P.uiOptions={language:H}},[ne]),S.useEffect(()=>{let H=oe.initDataUnsafe.start_param;if(H){let ae="/"+H.replace("_","/");U(ae)}let le=oe.initDataUnsafe.user;if(le){let ae=le.language_code;ae&&ae.substring(0,2)==="ru"&&ce("ru")}},[oe.initDataUnsafe]),S.useEffect(()=>{localStorage.getItem("ton-connect-ui_wallet-info")===null?(q(!1),oe.MainButton.setText(O("Connect wallet")),oe.MainButton.onClick(()=>P.openModal()),oe.MainButton.show()):F!==null&&(q(!1),oe.MainButton.hide())},[F]),a.jsxs(a.Fragment,{children:[a.jsxs(_e,{header:{height:60},footer:{height:20},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!B,desktop:!A}},padding:"xs",children:[a.jsx(_e.Header,{children:a.jsxs(fe,{h:"100%",px:"md",className:Ie.inner,children:[a.jsx(Xt,{opened:B,onClick:k,hiddenFrom:"sm",size:"sm"}),a.jsx(Xt,{opened:A,onClick:V,visibleFrom:"sm",size:"sm"}),a.jsx(v,{size:"xl",fw:700,variant:"gradient",gradient:t.appNameHeader,className:Ie.txt,children:O("custom:appName")}),a.jsxs(Je,{onClick:()=>I(),radius:"xl",variant:"outline",size:"xl","aria-label":"Toggle color scheme",children:[a.jsx(Pn,{className:Yt(Ie.icon,Ie.light),stroke:2}),a.jsx(Rn,{className:Yt(Ie.icon,Ie.dark),stroke:2})]})]})}),a.jsxs(_e.Navbar,{p:"md",children:[a.jsx(de,{label:O("Borrow"),leftSection:a.jsx(Ln,{size:"1rem",stroke:1.5}),component:Be,href:"/",onClick:k}),s.holder!==null&&a.jsxs(a.Fragment,{children:[a.jsx(de,{label:O("Deposit"),component:Be,leftSection:a.jsx(In,{size:"1rem",stroke:1.5}),href:"/deposit",onClick:k}),a.jsx(de,{label:O("Auctions"),leftSection:a.jsx(Un,{size:"1rem",stroke:1.5}),component:Be,href:"/auction",onClick:k})]}),a.jsxs(de,{label:O("Info"),leftSection:a.jsx(Dn,{size:"1rem",stroke:1.5}),childrenOffset:28,children:[a.jsx(de,{label:O("About"),leftSection:a.jsx(kn,{size:"1rem",stroke:1.5}),component:Be,href:"/about",onClick:k}),a.jsx(de,{label:O("Collections"),leftSection:a.jsx(_n,{size:"1rem",stroke:1.5}),component:Be,href:"/collections",onClick:k})]}),a.jsxs(de,{label:"Language",childrenOffset:28,leftSection:a.jsx(Mn,{size:"1rem",stroke:1.5}),children:[a.jsx(de,{label:"English",onClick:()=>{k(),ce("en")}}),a.jsx(de,{label:"Русский",onClick:()=>{k(),ce("ru")}})]}),F?a.jsx(de,{label:O("Disconnect wallet"),leftSection:a.jsx(Bn,{size:"1rem",stroke:1.5}),description:Ur((_=s.address)==null?void 0:_.toString()),onClick:()=>{k(),P.disconnect(),U("/")}}):a.jsx(de,{label:O("Connect Wallet"),leftSection:a.jsx(zn,{size:"1rem",stroke:1.5}),onClick:()=>{k(),P.openModal()}})]}),a.jsxs(_e.Main,{children:[t.isTestnet&&a.jsx($n,{fullWidth:!0,variant:"outline",color:"red",mb:"md",children:"TESTNET"}),a.jsxs(Xi,{children:[a.jsx(Le,{path:"/",children:ie?a.jsx(Fn,{visible:ie,zIndex:1e3,overlayProps:{radius:"sm",blur:10},loaderProps:{color:"blue",type:"bars"}}):a.jsx(a.Fragment,{children:F?a.jsx(oi,{nfts:l,credits:c,collectionNames:f,tx:u,isHolder:s.holder!==null||!t.onlyHolderRights.extend,allowed:e,reloadNfts:p,resetStates:x,setNft:w,setTransactionType:W,inputDrawerHandler:h,usdtWallet:s.usdtWallet}):a.jsx(xt,{data:t.heroPage})})}),a.jsx(Le,{path:"/deposit",children:F?a.jsx(bi,{user:s,reloadAccount:n,accountLoading:r,tx:u,resetStates:x,bankFinance:i,usdtBankFinance:o}):a.jsx(xt,{data:t.heroPage})}),a.jsx(Le,{path:"/auction",children:F?a.jsx(ga,{auctions:d,tx:u,resetStates:x,setCredit:E,setTransactionType:W,inputDrawerHandler:h,usdtWallet:s.usdtWallet}):a.jsx(xt,{data:t.heroPage})}),a.jsx(Le,{path:"/about",children:a.jsx(Vn,{children:a.jsx("div",{dangerouslySetInnerHTML:{__html:O("custom:aboutHtml")}})})}),a.jsx(Le,{path:"/collections",children:a.jsx(Ms,{data:e})}),a.jsx(Le,{children:H=>a.jsxs("center",{children:[a.jsx("b",{children:"404:"})," Sorry, this page ",a.jsxs("code",{children:['"/',H["*"],'"']})," isn't ready yet!"]})})]}),a.jsx(da,{activeState:m,errorState:y})]}),a.jsx(_e.Footer,{p:2,children:a.jsx(v,{size:"xs",c:"dimmed",children:" © 2024-2025 Krediton "})})]}),a.jsx(xa,{opened:D,handler:h,offer:g,auction:j,transactionType:T,tx:u,resetStates:x,bankFinance:i,usdtBankFinance:o})]})}const ya="config-scroogers-mainnet.json";function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function rn(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":_t(XMLHttpRequest))==="object"}function Sa(t){return!!t&&typeof t.then=="function"}function wa(t){return Sa(t)?t:Promise.resolve(t)}const se=globalThis||void 0||self;var Mt={exports:{}},rt={exports:{}},Cs;function va(){return Cs||(Cs=1,function(t,e){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof He<"u"&&He,n=function(){function i(){this.fetch=!1,this.DOMException=s.DOMException}return i.prototype=s,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof l<"u"&&l,c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(h){return h&&DataView.prototype.isPrototypeOf(h)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(h){return h&&f.indexOf(Object.prototype.toString.call(h))>-1};function u(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError('Invalid character in header field name: "'+h+'"');return h.toLowerCase()}function m(h){return typeof h!="string"&&(h=String(h)),h}function y(h){var g={next:function(){var w=h.shift();return{done:w===void 0,value:w}}};return c.iterable&&(g[Symbol.iterator]=function(){return g}),g}function x(h){this.map={},h instanceof x?h.forEach(function(g,w){this.append(w,g)},this):Array.isArray(h)?h.forEach(function(g){this.append(g[0],g[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(g){this.append(g,h[g])},this)}x.prototype.append=function(h,g){h=u(h),g=m(g);var w=this.map[h];this.map[h]=w?w+", "+g:g},x.prototype.delete=function(h){delete this.map[u(h)]},x.prototype.get=function(h){return h=u(h),this.has(h)?this.map[h]:null},x.prototype.has=function(h){return this.map.hasOwnProperty(u(h))},x.prototype.set=function(h,g){this.map[u(h)]=m(g)},x.prototype.forEach=function(h,g){for(var w in this.map)this.map.hasOwnProperty(w)&&h.call(g,this.map[w],w,this)},x.prototype.keys=function(){var h=[];return this.forEach(function(g,w){h.push(w)}),y(h)},x.prototype.values=function(){var h=[];return this.forEach(function(g){h.push(g)}),y(h)},x.prototype.entries=function(){var h=[];return this.forEach(function(g,w){h.push([w,g])}),y(h)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function b(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function P(h){return new Promise(function(g,w){h.onload=function(){g(h.result)},h.onerror=function(){w(h.error)}})}function R(h){var g=new FileReader,w=P(g);return g.readAsArrayBuffer(h),w}function z(h){var g=new FileReader,w=P(g);return g.readAsText(h),w}function C(h){for(var g=new Uint8Array(h),w=new Array(g.length),j=0;j<g.length;j++)w[j]=String.fromCharCode(g[j]);return w.join("")}function I(h){if(h.slice)return h.slice(0);var g=new Uint8Array(h.byteLength);return g.set(new Uint8Array(h)),g.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:c.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:c.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():c.arrayBuffer&&c.blob&&d(h)?(this._bodyArrayBuffer=I(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||p(h))?this._bodyArrayBuffer=I(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var h=b(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=b(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(R)}),this.text=function(){var h=b(this);if(h)return h;if(this._bodyBlob)return z(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function X(h){var g=h.toUpperCase();return O.indexOf(g)>-1?g:h}function F(h,g){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g=g||{};var w=g.body;if(h instanceof F){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,g.headers||(this.headers=new x(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!w&&h._bodyInit!=null&&(w=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new x(g.headers)),this.method=X(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(w),(this.method==="GET"||this.method==="HEAD")&&(g.cache==="no-store"||g.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function B(h){var g=new FormData;return h.trim().split("&").forEach(function(w){if(w){var j=w.split("="),E=j.shift().replace(/\+/g," "),T=j.join("=").replace(/\+/g," ");g.append(decodeURIComponent(E),decodeURIComponent(T))}}),g}function k(h){var g=new x,w=h.replace(/\r?\n[\t ]+/g," ");return w.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var E=j.split(":"),T=E.shift().trim();if(T){var W=E.join(":").trim();g.append(T,W)}}),g}U.call(F.prototype);function A(h,g){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText=g.statusText===void 0?"":""+g.statusText,this.headers=new x(g.headers),this.url=g.url||"",this._initBody(h)}U.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},A.error=function(){var h=new A(null,{status:0,statusText:""});return h.type="error",h};var V=[301,302,303,307,308];A.redirect=function(h,g){if(V.indexOf(g)===-1)throw new RangeError("Invalid status code");return new A(null,{status:g,headers:{location:h}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(g,w){this.message=g,this.name=w;var j=Error(g);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function D(h,g){return new Promise(function(w,j){var E=new F(h,g);if(E.signal&&E.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function W(){T.abort()}T.onload=function(){var q={status:T.status,statusText:T.statusText,headers:k(T.getAllResponseHeaders()||"")};q.url="responseURL"in T?T.responseURL:q.headers.get("X-Request-URL");var ne="response"in T?T.response:T.responseText;setTimeout(function(){w(new A(ne,q))},0)},T.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},T.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},T.onabort=function(){setTimeout(function(){j(new o.DOMException("Aborted","AbortError"))},0)};function ie(q){try{return q===""&&l.location.href?l.location.href:q}catch{return q}}T.open(E.method,ie(E.url),!0),E.credentials==="include"?T.withCredentials=!0:E.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&(c.blob?T.responseType="blob":c.arrayBuffer&&E.headers.get("Content-Type")&&E.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(T.responseType="arraybuffer")),g&&typeof g.headers=="object"&&!(g.headers instanceof x)?Object.getOwnPropertyNames(g.headers).forEach(function(q){T.setRequestHeader(q,m(g.headers[q]))}):E.headers.forEach(function(q,ne){T.setRequestHeader(ne,q)}),E.signal&&(E.signal.addEventListener("abort",W),T.onreadystatechange=function(){T.readyState===4&&E.signal.removeEventListener("abort",W)}),T.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return D.polyfill=!0,l.fetch||(l.fetch=D,l.Headers=x,l.Request=F,l.Response=A),o.Headers=x,o.Request=F,o.Response=A,o.fetch=D,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=s.fetch?s:n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e}(rt,rt.exports)),rt.exports}(function(t,e){var s;if(typeof fetch=="function"&&(typeof He<"u"&&He.fetch?s=He.fetch:typeof window<"u"&&window.fetch?s=window.fetch:s=fetch),typeof Yn<"u"&&typeof window>"u"){var n=s||va();n.default&&(n=n.default),e.default=n,t.exports=e.default}})(Mt,Mt.exports);var an=Mt.exports;const on=Hn(an),js=Qn({__proto__:null,default:on},[an]);function Ts(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function Os(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ts(Object(s),!0).forEach(function(n){Ca(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ts(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ca(t,e,s){return(e=ja(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ja(t){var e=Ta(t,"string");return Ne(e)=="symbol"?e:e+""}function Ta(t,e){if(Ne(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(Ne(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ne(t){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}var Se;typeof fetch=="function"&&(typeof se<"u"&&se.fetch?Se=se.fetch:typeof window<"u"&&window.fetch?Se=window.fetch:Se=fetch);var Xe;rn()&&(typeof se<"u"&&se.XMLHttpRequest?Xe=se.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Xe=window.XMLHttpRequest));var ft;typeof ActiveXObject=="function"&&(typeof se<"u"&&se.ActiveXObject?ft=se.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ft=window.ActiveXObject));!Se&&js&&!Xe&&!ft&&(Se=on||js);typeof Se!="function"&&(Se=void 0);var Bt=function(e,s){if(s&&Ne(s)==="object"){var n="";for(var r in s)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(s[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},As=function(e,s,n,r){var i=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(d){n(null,{status:c.status,data:d})}).catch(n)};if(r){var o=r(e,s);if(o instanceof Promise){o.then(i).catch(n);return}}typeof fetch=="function"?fetch(e,s).then(i).catch(n):Se(e,s).then(i).catch(n)},Ns=!1,Oa=function(e,s,n,r){e.queryStringParams&&(s=Bt(s,e.queryStringParams));var i=Os({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof se<"u"&&typeof se.process<"u"&&se.process.versions&&se.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(se.process.version,"; ").concat(se.process.platform," ").concat(se.process.arch,")")),n&&(i["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,l=Os({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},Ns?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{As(s,l,r,c)}catch(d){if(!o||Object.keys(o).length===0||!d.message||d.message.indexOf("not implemented")<0)return r(d);try{Object.keys(o).forEach(function(f){delete l[f]}),As(s,l,r,c),Ns=!0}catch(f){r(f)}}},Aa=function(e,s,n,r){n&&Ne(n)==="object"&&(n=Bt("",n).slice(1)),e.queryStringParams&&(s=Bt(s,e.queryStringParams));try{var i;Xe?i=new Xe:i=new ft("MSXML2.XMLHTTP.3.0"),i.open(n?"POST":"GET",s,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)i.setRequestHeader(l,o[l]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(c){console&&console.log(c)}},Na=function(e,s,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Se&&s.indexOf("file:")!==0)return Oa(e,s,n,r);if(rn()||typeof ActiveXObject=="function")return Aa(e,s,n,r);r(new Error("No fetch and no xhr implementation found!"))};function ke(t){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(t)}function Es(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function vt(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Es(Object(s),!0).forEach(function(n){ln(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Es(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cn(n.key),n)}}function Pa(t,e,s){return e&&Ps(t.prototype,e),s&&Ps(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function ln(t,e,s){return(e=cn(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function cn(t){var e=Ra(t,"string");return ke(e)=="symbol"?e:e+""}function Ra(t,e){if(ke(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(ke(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var La=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,n,r){return ln({},n,r||"")},parseLoadPayload:function(s,n){},request:Na,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},dn=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ea(this,t),this.services=e,this.options=s,this.allOptions=n,this.type="backend",this.init(e,s,n)}return Pa(t,[{key:"init",value:function(s){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=vt(vt(vt({},La()),this.options||{}),r),this.allOptions=i,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);ke(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(s,n,r){this._readAny(s,s,n,n,r)}},{key:"read",value:function(s,n,r){this._readAny([s],s,[n],n,r)}},{key:"_readAny",value:function(s,n,r,i,o){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(s,r)),c=wa(c),c.then(function(d){if(!d)return o(null,{});var f=l.services.interpolator.interpolate(d,{lng:s.join("+"),ns:r.join("+")});l.loadUrl(f,o,n,i)})}},{key:"loadUrl",value:function(s,n,r,i){var o=this,l=typeof r=="string"?[r]:r,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(l,c);this.options.request(this.options,s,d,function(f,p){if(p&&(p.status>=500&&p.status<600||!p.status))return n("failed loading "+s+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return n("failed loading "+s+"; status code: "+p.status,!1);if(!p&&f&&f.message){var u=f.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(b){return u.indexOf(b)>-1});if(m)return n("failed loading "+s+": "+f.message,!0)}if(f)return n(f,!1);var y,x;try{typeof p.data=="string"?y=o.options.parse(p.data,r,i):y=p.data}catch{x="failed parsing "+s+" to json"}if(x)return n(x,!1);n(null,y)})}},{key:"create",value:function(s,n,r,i,o){var l=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var c=this.options.parsePayload(n,r,i),d=0,f=[],p=[];s.forEach(function(u){var m=l.options.addPath;typeof l.options.addPath=="function"&&(m=l.options.addPath(u,n));var y=l.services.interpolator.interpolate(m,{lng:u,ns:n});l.options.request(l.options,y,c,function(x,b){d+=1,f.push(x),p.push(b),d===s.length&&typeof o=="function"&&o(f,p)})})}}},{key:"reload",value:function(){var s=this,n=this.services,r=n.backendConnector,i=n.languageUtils,o=n.logger,l=r.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],d=function(p){var u=i.toResolveHierarchy(p);u.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};d(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return d(f)}),c.forEach(function(f){s.allOptions.ns.forEach(function(p){r.read(f,p,"read",null,null,function(u,m){u&&o.warn("loading namespace ".concat(p," for language ").concat(f," failed"),u),!u&&m&&o.log("loaded namespace ".concat(p," for language ").concat(f),m),r.loaded("".concat(f,"|").concat(p),u,m)})})})}}}])}();dn.type="backend";Z.use(dn).use(br).init({load:"languageOnly",lng:"en",interpolation:{escapeValue:!1}});const Rs={xxs:M("200px"),xs:M("300px"),sm:M("400px"),md:M("500px"),lg:M("600px"),xl:M("1400px"),xxl:M("1600px")},Ia=Kn({fontSizes:{xs:M("12px"),sm:M("14px"),md:M("16px"),lg:M("18px"),xl:M("20px"),"2xl":M("24px"),"3xl":M("30px"),"4xl":M("36px"),"5xl":M("48px")},spacing:{"3xs":M("4px"),"2xs":M("8px"),xs:M("10px"),sm:M("12px"),md:M("16px"),lg:M("20px"),xl:M("24px"),"2xl":M("28px"),"3xl":M("32px")},primaryColor:"gray",components:{Container:Ye.extend({vars:(t,{size:e,fluid:s})=>({root:{"--container-size":s?"100%":e!==void 0&&e in Rs?Rs[e]:M(e)}})}),Paper:Us.extend({defaultProps:{p:"md",shadow:"xl",radius:"md",withBorder:!0}}),Card:Q.extend({defaultProps:{p:"xl",shadow:"xl",radius:"var(--mantine-radius-default)",withBorder:!0}}),Select:Wn.extend({defaultProps:{checkIconPosition:"right"}})},other:{style:"mantine"}});fetch(ya).then(t=>t.json()).then(t=>{oe.ready(),oe.expand(),Ce.init(t),Z.addResourceBundle("en","custom",t.translates.en),Z.addResourceBundle("ru","custom",t.translates.ru),At.createRoot(document.getElementById("root")).render(a.jsx(qn.StrictMode,{children:a.jsx(Jn,{defaultColorScheme:"auto",theme:Ia,children:a.jsx(Gn,{manifestUrl:t.tonConnectProps.manifestUrl,uiPreferences:{theme:Ot.DARK},actionsConfiguration:{twaReturnUrl:t.tonConnectProps.twaReturnUrl},children:a.jsx(ba,{config:t})})})}))}).catch(t=>console.error("Error loading config:",t));
